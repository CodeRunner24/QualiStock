{
  "version": 3,
  "sources": ["../../kbar/lib/utils.js", "../../fast-equals/src/utils.ts", "../../fast-equals/src/comparator.ts", "../../fast-equals/src/index.ts", "../../tiny-invariant/dist/tiny-invariant.cjs.js", "../../kbar/lib/action/Command.js", "../../kbar/lib/action/ActionImpl.js", "../../kbar/lib/action/ActionInterface.js", "../../kbar/lib/action/HistoryImpl.js", "../../kbar/lib/types.js", "../../kbar/lib/useStore.js", "../../kbar/lib/tinykeys.js", "../../kbar/lib/InternalEvents.js", "../../kbar/lib/KBarContextProvider.js", "../../kbar/lib/useKBar.js", "../../fuse.js/dist/fuse.esm.js", "../../kbar/lib/useMatches.js", "../../@radix-ui/react-compose-refs/src/index.ts", "../../@radix-ui/react-compose-refs/src/composeRefs.tsx", "../../@radix-ui/react-slot/src/index.ts", "../../@radix-ui/react-slot/src/slot.tsx", "../../@radix-ui/react-primitive/src/index.ts", "../../@radix-ui/react-primitive/src/primitive.tsx", "../../@radix-ui/react-use-layout-effect/src/index.ts", "../../@radix-ui/react-use-layout-effect/src/useLayoutEffect.tsx", "../../@radix-ui/react-portal/src/index.ts", "../../@radix-ui/react-portal/src/portal.tsx", "../../kbar/lib/KBarPortal.js", "../../kbar/lib/KBarPositioner.js", "../../kbar/lib/KBarSearch.js", "../../react-virtual/node_modules/@reach/observe-rect/dist/observe-rect.esm.js", "../../react-virtual/src/useIsomorphicLayoutEffect.js", "../../react-virtual/src/useRect.js", "../../react-virtual/src/index.js", "../../kbar/lib/KBarResults.js", "../../kbar/lib/useRegisterActions.js", "../../kbar/lib/KBarAnimator.js", "../../kbar/lib/action/index.js", "../../kbar/lib/index.js", "../../@refinedev/kbar/src/index.tsx", "../../@refinedev/kbar/src/hooks/useRefineKbar/index.tsx", "../../@refinedev/kbar/src/definitions/capitalize/index.ts", "../../@refinedev/kbar/src/components/commandBar/index.tsx", "../../@refinedev/kbar/src/components/renderResults/index.tsx", "../../@refinedev/kbar/src/components/resultItem/index.tsx", "../../@refinedev/kbar/src/components/refineKbar/index.tsx"],
  "sourcesContent": ["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Priority = exports.isModKey = exports.shouldRejectKeystrokes = exports.useThrottledValue = exports.getScrollbarWidth = exports.useIsomorphicLayout = exports.noop = exports.createAction = exports.randomId = exports.usePointerMovedSinceMount = exports.useOuterClick = exports.swallowEvent = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nfunction swallowEvent(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n}\r\nexports.swallowEvent = swallowEvent;\r\nfunction useOuterClick(dom, cb) {\r\n    var cbRef = React.useRef(cb);\r\n    cbRef.current = cb;\r\n    React.useEffect(function () {\r\n        function handler(event) {\r\n            var _a, _b;\r\n            if (((_a = dom.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) ||\r\n                // Add support for ReactShadowRoot\r\n                // @ts-expect-error wrong types, the `host` property exists https://stackoverflow.com/a/25340456\r\n                event.target === ((_b = dom.current) === null || _b === void 0 ? void 0 : _b.getRootNode().host)) {\r\n                return;\r\n            }\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            cbRef.current();\r\n        }\r\n        window.addEventListener(\"pointerdown\", handler, true);\r\n        return function () { return window.removeEventListener(\"pointerdown\", handler, true); };\r\n    }, [dom]);\r\n}\r\nexports.useOuterClick = useOuterClick;\r\nfunction usePointerMovedSinceMount() {\r\n    var _a = React.useState(false), moved = _a[0], setMoved = _a[1];\r\n    React.useEffect(function () {\r\n        function handler() {\r\n            setMoved(true);\r\n        }\r\n        if (!moved) {\r\n            window.addEventListener(\"pointermove\", handler);\r\n            return function () { return window.removeEventListener(\"pointermove\", handler); };\r\n        }\r\n    }, [moved]);\r\n    return moved;\r\n}\r\nexports.usePointerMovedSinceMount = usePointerMovedSinceMount;\r\nfunction randomId() {\r\n    return Math.random().toString(36).substring(2, 9);\r\n}\r\nexports.randomId = randomId;\r\nfunction createAction(params) {\r\n    return __assign({ id: randomId() }, params);\r\n}\r\nexports.createAction = createAction;\r\nfunction noop() { }\r\nexports.noop = noop;\r\nexports.useIsomorphicLayout = typeof window === \"undefined\" ? noop : React.useLayoutEffect;\r\n// https://stackoverflow.com/questions/13382516/getting-scroll-bar-width-using-javascript\r\nfunction getScrollbarWidth() {\r\n    var outer = document.createElement(\"div\");\r\n    outer.style.visibility = \"hidden\";\r\n    outer.style.overflow = \"scroll\";\r\n    document.body.appendChild(outer);\r\n    var inner = document.createElement(\"div\");\r\n    outer.appendChild(inner);\r\n    var scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\r\n    outer.parentNode.removeChild(outer);\r\n    return scrollbarWidth;\r\n}\r\nexports.getScrollbarWidth = getScrollbarWidth;\r\nfunction useThrottledValue(value, ms) {\r\n    if (ms === void 0) { ms = 100; }\r\n    var _a = React.useState(value), throttledValue = _a[0], setThrottledValue = _a[1];\r\n    var lastRan = React.useRef(Date.now());\r\n    React.useEffect(function () {\r\n        if (ms === 0)\r\n            return;\r\n        var timeout = setTimeout(function () {\r\n            setThrottledValue(value);\r\n            lastRan.current = Date.now();\r\n        }, lastRan.current - (Date.now() - ms));\r\n        return function () {\r\n            clearTimeout(timeout);\r\n        };\r\n    }, [ms, value]);\r\n    return ms === 0 ? value : throttledValue;\r\n}\r\nexports.useThrottledValue = useThrottledValue;\r\nfunction shouldRejectKeystrokes(_a) {\r\n    var _b, _c, _d;\r\n    var _e = _a === void 0 ? { ignoreWhenFocused: [] } : _a, ignoreWhenFocused = _e.ignoreWhenFocused;\r\n    var inputs = __spreadArray([\"input\", \"textarea\"], ignoreWhenFocused, true).map(function (el) {\r\n        return el.toLowerCase();\r\n    });\r\n    var activeElement = document.activeElement;\r\n    var ignoreStrokes = activeElement &&\r\n        (inputs.indexOf(activeElement.tagName.toLowerCase()) !== -1 ||\r\n            ((_b = activeElement.attributes.getNamedItem(\"role\")) === null || _b === void 0 ? void 0 : _b.value) === \"textbox\" ||\r\n            ((_c = activeElement.attributes.getNamedItem(\"contenteditable\")) === null || _c === void 0 ? void 0 : _c.value) ===\r\n                \"true\" ||\r\n            ((_d = activeElement.attributes.getNamedItem(\"contenteditable\")) === null || _d === void 0 ? void 0 : _d.value) ===\r\n                \"plaintext-only\");\r\n    return ignoreStrokes;\r\n}\r\nexports.shouldRejectKeystrokes = shouldRejectKeystrokes;\r\nvar SSR = typeof window === \"undefined\";\r\nvar isMac = !SSR && window.navigator.platform === \"MacIntel\";\r\nfunction isModKey(event) {\r\n    return isMac ? event.metaKey : event.ctrlKey;\r\n}\r\nexports.isModKey = isModKey;\r\nexports.Priority = {\r\n    HIGH: 1,\r\n    NORMAL: 0,\r\n    LOW: -1,\r\n};\r\n", "const HAS_WEAKSET_SUPPORT = typeof WeakSet === 'function';\n\nconst { keys } = Object;\n\ntype Cache = {\n  add: (value: any) => void;\n  has: (value: any) => boolean;\n};\n\nexport type EqualityComparator = (a: any, b: any, meta?: any) => boolean;\n\n/**\n * are the values passed strictly equal or both NaN\n *\n * @param a the value to compare against\n * @param b the value to test\n * @returns are the values equal by the SameValueZero principle\n */\nexport function sameValueZeroEqual(a: any, b: any) {\n  return a === b || (a !== a && b !== b);\n}\n\n/**\n * is the value a plain object\n *\n * @param value the value to test\n * @returns is the value a plain object\n */\nexport function isPlainObject(value: any) {\n  return value.constructor === Object || value.constructor == null;\n}\n\n/**\n * is the value promise-like (meaning it is thenable)\n *\n * @param value the value to test\n * @returns is the value promise-like\n */\nexport function isPromiseLike(value: any) {\n  return !!value && typeof value.then === 'function';\n}\n\n/**\n * is the value passed a react element\n *\n * @param value the value to test\n * @returns is the value a react element\n */\nexport function isReactElement(value: any) {\n  return !!(value && value.$$typeof);\n}\n\n/**\n * in cases where WeakSet is not supported, creates a new custom\n * object that mimics the necessary API aspects for cache purposes\n *\n * @returns the new cache object\n */\nexport function getNewCacheFallback(): Cache {\n  const values: any[] = [];\n\n  return {\n    add(value: any) {\n      values.push(value);\n    },\n\n    has(value: any) {\n      return values.indexOf(value) !== -1;\n    },\n  };\n}\n\n/**\n * get a new cache object to prevent circular references\n *\n * @returns the new cache object\n */\nexport const getNewCache = ((canUseWeakMap: boolean) => {\n  if (canUseWeakMap) {\n    return function _getNewCache(): Cache {\n      return new WeakSet();\n    };\n  }\n\n  return getNewCacheFallback;\n})(HAS_WEAKSET_SUPPORT);\n\n/**\n * create a custom isEqual handler specific to circular objects\n *\n * @param [isEqual] the isEqual comparator to use instead of isDeepEqual\n * @returns the method to create the `isEqual` function\n */\nexport function createCircularEqualCreator(isEqual?: EqualityComparator) {\n  return function createCircularEqual(comparator: EqualityComparator) {\n    const _comparator = isEqual || comparator;\n\n    return function circularEqual(\n      a: any,\n      b: any,\n      cache: Cache = getNewCache(),\n    ) {\n      const isCacheableA = !!a && typeof a === 'object';\n      const isCacheableB = !!b && typeof b === 'object';\n\n      if (isCacheableA || isCacheableB) {\n        const hasA = isCacheableA && cache.has(a);\n        const hasB = isCacheableB && cache.has(b);\n\n        if (hasA || hasB) {\n          return hasA && hasB;\n        }\n\n        if (isCacheableA) {\n          cache.add(a);\n        }\n\n        if (isCacheableB) {\n          cache.add(b);\n        }\n      }\n\n      return _comparator(a, b, cache);\n    };\n  };\n}\n\n/**\n * are the arrays equal in value\n *\n * @param a the array to test\n * @param b the array to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta object to pass through\n * @returns are the arrays equal\n */\nexport function areArraysEqual(\n  a: any[],\n  b: any[],\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let index = a.length;\n\n  if (b.length !== index) {\n    return false;\n  }\n\n  while (index-- > 0) {\n    if (!isEqual(a[index], b[index], meta)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * are the maps equal in value\n *\n * @param a the map to test\n * @param b the map to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta map to pass through\n * @returns are the maps equal\n */\nexport function areMapsEqual(\n  a: Map<any, any>,\n  b: Map<any, any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let isValueEqual = a.size === b.size;\n\n  if (isValueEqual && a.size) {\n    const matchedIndices: Record<number, true> = {};\n\n    a.forEach((aValue, aKey) => {\n      if (isValueEqual) {\n        let hasMatch = false;\n        let matchIndex = 0;\n\n        b.forEach((bValue, bKey) => {\n          if (!hasMatch && !matchedIndices[matchIndex]) {\n            hasMatch =\n              isEqual(aKey, bKey, meta) && isEqual(aValue, bValue, meta);\n\n            if (hasMatch) {\n              matchedIndices[matchIndex] = true;\n            }\n          }\n\n          matchIndex++;\n        });\n\n        isValueEqual = hasMatch;\n      }\n    });\n  }\n\n  return isValueEqual;\n}\n\ntype Dictionary<Type> = {\n  [key: string]: Type;\n  [index: number]: Type;\n};\n\nconst OWNER = '_owner';\n\nconst hasOwnProperty = Function.prototype.bind.call(\n  Function.prototype.call,\n  Object.prototype.hasOwnProperty,\n);\n\n/**\n * are the objects equal in value\n *\n * @param a the object to test\n * @param b the object to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta object to pass through\n * @returns are the objects equal\n */\nexport function areObjectsEqual(\n  a: Dictionary<any>,\n  b: Dictionary<any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  const keysA = keys(a);\n\n  let index = keysA.length;\n\n  if (keys(b).length !== index) {\n    return false;\n  }\n\n  if (index) {\n    let key: string;\n\n    while (index-- > 0) {\n      key = keysA[index];\n\n      if (key === OWNER) {\n        const reactElementA = isReactElement(a);\n        const reactElementB = isReactElement(b);\n\n        if (\n          (reactElementA || reactElementB) &&\n          reactElementA !== reactElementB\n        ) {\n          return false;\n        }\n      }\n\n      if (!hasOwnProperty(b, key) || !isEqual(a[key], b[key], meta)) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n/**\n * are the regExps equal in value\n *\n * @param a the regExp to test\n * @param b the regExp to test agains\n * @returns are the regExps equal\n */\nexport function areRegExpsEqual(a: RegExp, b: RegExp) {\n  return (\n    a.source === b.source &&\n    a.global === b.global &&\n    a.ignoreCase === b.ignoreCase &&\n    a.multiline === b.multiline &&\n    a.unicode === b.unicode &&\n    a.sticky === b.sticky &&\n    a.lastIndex === b.lastIndex\n  );\n}\n\n/**\n * are the sets equal in value\n *\n * @param a the set to test\n * @param b the set to test against\n * @param isEqual the comparator to determine equality\n * @param meta the meta set to pass through\n * @returns are the sets equal\n */\nexport function areSetsEqual(\n  a: Set<any>,\n  b: Set<any>,\n  isEqual: EqualityComparator,\n  meta: any,\n) {\n  let isValueEqual = a.size === b.size;\n\n  if (isValueEqual && a.size) {\n    const matchedIndices: Record<number, true> = {};\n\n    a.forEach((aValue) => {\n      if (isValueEqual) {\n        let hasMatch = false;\n        let matchIndex = 0;\n\n        b.forEach((bValue) => {\n          if (!hasMatch && !matchedIndices[matchIndex]) {\n            hasMatch = isEqual(aValue, bValue, meta);\n\n            if (hasMatch) {\n              matchedIndices[matchIndex] = true;\n            }\n          }\n\n          matchIndex++;\n        });\n\n        isValueEqual = hasMatch;\n      }\n    });\n  }\n\n  return isValueEqual;\n}\n", "import {\n  EqualityComparator,\n  areArraysEqual,\n  areMapsEqual,\n  areObjectsEqual,\n  areRegExpsEqual,\n  areSetsEqual,\n  isPlainObject,\n  isPromiseLike,\n  sameValueZeroEqual,\n} from './utils';\n\nconst HAS_MAP_SUPPORT = typeof Map === 'function';\nconst HAS_SET_SUPPORT = typeof Set === 'function';\n\ntype EqualityComparatorCreator = (fn: EqualityComparator) => EqualityComparator;\n\nexport function createComparator(createIsEqual?: EqualityComparatorCreator) {\n  const isEqual: EqualityComparator =\n    /* eslint-disable no-use-before-define */\n    typeof createIsEqual === 'function'\n      ? createIsEqual(comparator)\n      : comparator;\n  /* eslint-enable */\n\n  /**\n   * compare the value of the two objects and return true if they are equivalent in values\n   *\n   * @param a the value to test against\n   * @param b the value to test\n   * @param [meta] an optional meta object that is passed through to all equality test calls\n   * @returns are a and b equivalent in value\n   */\n  function comparator(a: any, b: any, meta?: any) {\n    if (a === b) {\n      return true;\n    }\n\n    if (a && b && typeof a === 'object' && typeof b === 'object') {\n      if (isPlainObject(a) && isPlainObject(b)) {\n        return areObjectsEqual(a, b, isEqual, meta);\n      }\n\n      let aShape = Array.isArray(a);\n      let bShape = Array.isArray(b);\n\n      if (aShape || bShape) {\n        return aShape === bShape && areArraysEqual(a, b, isEqual, meta);\n      }\n\n      aShape = a instanceof Date;\n      bShape = b instanceof Date;\n\n      if (aShape || bShape) {\n        return (\n          aShape === bShape && sameValueZeroEqual(a.getTime(), b.getTime())\n        );\n      }\n\n      aShape = a instanceof RegExp;\n      bShape = b instanceof RegExp;\n\n      if (aShape || bShape) {\n        return aShape === bShape && areRegExpsEqual(a, b);\n      }\n\n      if (isPromiseLike(a) || isPromiseLike(b)) {\n        return a === b;\n      }\n\n      if (HAS_MAP_SUPPORT) {\n        aShape = a instanceof Map;\n        bShape = b instanceof Map;\n\n        if (aShape || bShape) {\n          return aShape === bShape && areMapsEqual(a, b, isEqual, meta);\n        }\n      }\n\n      if (HAS_SET_SUPPORT) {\n        aShape = a instanceof Set;\n        bShape = b instanceof Set;\n\n        if (aShape || bShape) {\n          return aShape === bShape && areSetsEqual(a, b, isEqual, meta);\n        }\n      }\n\n      return areObjectsEqual(a, b, isEqual, meta);\n    }\n\n    return a !== a && b !== b;\n  }\n\n  return comparator;\n}\n", "import { createComparator } from './comparator';\nimport { createCircularEqualCreator, sameValueZeroEqual } from './utils';\n\nexport { createComparator as createCustomEqual, sameValueZeroEqual };\n\nexport const deepEqual = createComparator();\nexport const shallowEqual = createComparator(() => sameValueZeroEqual);\n\nexport const circularDeepEqual = createComparator(createCircularEqualCreator());\nexport const circularShallowEqual = createComparator(\n  createCircularEqualCreator(sameValueZeroEqual),\n);\n", "'use strict';\r\n\r\nvar isProduction = process.env.NODE_ENV === 'production';\r\nvar prefix = 'Invariant failed';\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    var provided = typeof message === 'function' ? message() : message;\r\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\r\n    throw new Error(value);\r\n}\r\n\r\nmodule.exports = invariant;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Command = void 0;\r\nvar Command = /** @class */ (function () {\r\n    function Command(command, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        this.perform = function () {\r\n            var negate = command.perform();\r\n            // no need for history if non negatable\r\n            if (typeof negate !== \"function\")\r\n                return;\r\n            // return if no history enabled\r\n            var history = options.history;\r\n            if (!history)\r\n                return;\r\n            // since we are performing the same action, we'll clean up the\r\n            // previous call to the action and create a new history record\r\n            if (_this.historyItem) {\r\n                history.remove(_this.historyItem);\r\n            }\r\n            _this.historyItem = history.add({\r\n                perform: command.perform,\r\n                negate: negate,\r\n            });\r\n            _this.history = {\r\n                undo: function () { return history.undo(_this.historyItem); },\r\n                redo: function () { return history.redo(_this.historyItem); },\r\n            };\r\n        };\r\n    }\r\n    return Command;\r\n}());\r\nexports.Command = Command;\r\n", "\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ActionImpl = void 0;\r\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\r\nvar Command_1 = require(\"./Command\");\r\nvar utils_1 = require(\"../utils\");\r\n/**\r\n * Extends the configured keywords to include the section\r\n * This allows section names to be searched for.\r\n */\r\nvar extendKeywords = function (_a) {\r\n    var _b = _a.keywords, keywords = _b === void 0 ? \"\" : _b, _c = _a.section, section = _c === void 0 ? \"\" : _c;\r\n    return (keywords + \" \" + (typeof section === \"string\" ? section : section.name)).trim();\r\n};\r\nvar ActionImpl = /** @class */ (function () {\r\n    function ActionImpl(action, options) {\r\n        var _this = this;\r\n        var _a;\r\n        this.priority = utils_1.Priority.NORMAL;\r\n        this.ancestors = [];\r\n        this.children = [];\r\n        Object.assign(this, action);\r\n        this.id = action.id;\r\n        this.name = action.name;\r\n        this.keywords = extendKeywords(action);\r\n        var perform = action.perform;\r\n        this.command =\r\n            perform &&\r\n                new Command_1.Command({\r\n                    perform: function () { return perform(_this); },\r\n                }, {\r\n                    history: options.history,\r\n                });\r\n        // Backwards compatibility\r\n        this.perform = (_a = this.command) === null || _a === void 0 ? void 0 : _a.perform;\r\n        if (action.parent) {\r\n            var parentActionImpl = options.store[action.parent];\r\n            (0, tiny_invariant_1.default)(parentActionImpl, \"attempted to create an action whos parent: \" + action.parent + \" does not exist in the store.\");\r\n            parentActionImpl.addChild(this);\r\n        }\r\n    }\r\n    ActionImpl.prototype.addChild = function (childActionImpl) {\r\n        // add all ancestors for the child action\r\n        childActionImpl.ancestors.unshift(this);\r\n        var parent = this.parentActionImpl;\r\n        while (parent) {\r\n            childActionImpl.ancestors.unshift(parent);\r\n            parent = parent.parentActionImpl;\r\n        }\r\n        // we ensure that order of adding always goes\r\n        // parent -> children, so no need to recurse\r\n        this.children.push(childActionImpl);\r\n    };\r\n    ActionImpl.prototype.removeChild = function (actionImpl) {\r\n        var _this = this;\r\n        // recursively remove all children\r\n        var index = this.children.indexOf(actionImpl);\r\n        if (index !== -1) {\r\n            this.children.splice(index, 1);\r\n        }\r\n        if (actionImpl.children) {\r\n            actionImpl.children.forEach(function (child) {\r\n                _this.removeChild(child);\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(ActionImpl.prototype, \"parentActionImpl\", {\r\n        // easily access parentActionImpl after creation\r\n        get: function () {\r\n            return this.ancestors[this.ancestors.length - 1];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ActionImpl.create = function (action, options) {\r\n        return new ActionImpl(action, options);\r\n    };\r\n    return ActionImpl;\r\n}());\r\nexports.ActionImpl = ActionImpl;\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ActionInterface = void 0;\r\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\r\nvar ActionImpl_1 = require(\"./ActionImpl\");\r\nvar ActionInterface = /** @class */ (function () {\r\n    function ActionInterface(actions, options) {\r\n        if (actions === void 0) { actions = []; }\r\n        if (options === void 0) { options = {}; }\r\n        this.actions = {};\r\n        this.options = options;\r\n        this.add(actions);\r\n    }\r\n    ActionInterface.prototype.add = function (actions) {\r\n        for (var i = 0; i < actions.length; i++) {\r\n            var action = actions[i];\r\n            if (action.parent) {\r\n                (0, tiny_invariant_1.default)(this.actions[action.parent], \"Attempted to create action \\\"\" + action.name + \"\\\" without registering its parent \\\"\" + action.parent + \"\\\" first.\");\r\n            }\r\n            this.actions[action.id] = ActionImpl_1.ActionImpl.create(action, {\r\n                history: this.options.historyManager,\r\n                store: this.actions,\r\n            });\r\n        }\r\n        return __assign({}, this.actions);\r\n    };\r\n    ActionInterface.prototype.remove = function (actions) {\r\n        var _this = this;\r\n        actions.forEach(function (action) {\r\n            var actionImpl = _this.actions[action.id];\r\n            if (!actionImpl)\r\n                return;\r\n            var children = actionImpl.children;\r\n            while (children.length) {\r\n                var child = children.pop();\r\n                if (!child)\r\n                    return;\r\n                delete _this.actions[child.id];\r\n                if (child.parentActionImpl)\r\n                    child.parentActionImpl.removeChild(child);\r\n                if (child.children)\r\n                    children.push.apply(children, child.children);\r\n            }\r\n            if (actionImpl.parentActionImpl) {\r\n                actionImpl.parentActionImpl.removeChild(actionImpl);\r\n            }\r\n            delete _this.actions[action.id];\r\n        });\r\n        return __assign({}, this.actions);\r\n    };\r\n    return ActionInterface;\r\n}());\r\nexports.ActionInterface = ActionInterface;\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.history = exports.HistoryItemImpl = void 0;\r\nvar utils_1 = require(\"../utils\");\r\nvar HistoryItemImpl = /** @class */ (function () {\r\n    function HistoryItemImpl(item) {\r\n        this.perform = item.perform;\r\n        this.negate = item.negate;\r\n    }\r\n    HistoryItemImpl.create = function (item) {\r\n        return new HistoryItemImpl(item);\r\n    };\r\n    return HistoryItemImpl;\r\n}());\r\nexports.HistoryItemImpl = HistoryItemImpl;\r\nvar HistoryImpl = /** @class */ (function () {\r\n    function HistoryImpl() {\r\n        this.undoStack = [];\r\n        this.redoStack = [];\r\n        if (!HistoryImpl.instance) {\r\n            HistoryImpl.instance = this;\r\n            this.init();\r\n        }\r\n        return HistoryImpl.instance;\r\n    }\r\n    HistoryImpl.prototype.init = function () {\r\n        var _this = this;\r\n        if (typeof window === \"undefined\")\r\n            return;\r\n        window.addEventListener(\"keydown\", function (event) {\r\n            var _a;\r\n            if ((!_this.redoStack.length && !_this.undoStack.length) ||\r\n                (0, utils_1.shouldRejectKeystrokes)()) {\r\n                return;\r\n            }\r\n            var key = (_a = event.key) === null || _a === void 0 ? void 0 : _a.toLowerCase();\r\n            if (event.metaKey && key === \"z\" && event.shiftKey) {\r\n                _this.redo();\r\n            }\r\n            else if (event.metaKey && key === \"z\") {\r\n                _this.undo();\r\n            }\r\n        });\r\n    };\r\n    HistoryImpl.prototype.add = function (item) {\r\n        var historyItem = HistoryItemImpl.create(item);\r\n        this.undoStack.push(historyItem);\r\n        return historyItem;\r\n    };\r\n    HistoryImpl.prototype.remove = function (item) {\r\n        var undoIndex = this.undoStack.findIndex(function (i) { return i === item; });\r\n        if (undoIndex !== -1) {\r\n            this.undoStack.splice(undoIndex, 1);\r\n            return;\r\n        }\r\n        var redoIndex = this.redoStack.findIndex(function (i) { return i === item; });\r\n        if (redoIndex !== -1) {\r\n            this.redoStack.splice(redoIndex, 1);\r\n        }\r\n    };\r\n    HistoryImpl.prototype.undo = function (item) {\r\n        // if not undoing a specific item, just undo the latest\r\n        if (!item) {\r\n            var item_1 = this.undoStack.pop();\r\n            if (!item_1)\r\n                return;\r\n            item_1 === null || item_1 === void 0 ? void 0 : item_1.negate();\r\n            this.redoStack.push(item_1);\r\n            return item_1;\r\n        }\r\n        // else undo the specific item\r\n        var index = this.undoStack.findIndex(function (i) { return i === item; });\r\n        if (index === -1)\r\n            return;\r\n        this.undoStack.splice(index, 1);\r\n        item.negate();\r\n        this.redoStack.push(item);\r\n        return item;\r\n    };\r\n    HistoryImpl.prototype.redo = function (item) {\r\n        if (!item) {\r\n            var item_2 = this.redoStack.pop();\r\n            if (!item_2)\r\n                return;\r\n            item_2 === null || item_2 === void 0 ? void 0 : item_2.perform();\r\n            this.undoStack.push(item_2);\r\n            return item_2;\r\n        }\r\n        var index = this.redoStack.findIndex(function (i) { return i === item; });\r\n        if (index === -1)\r\n            return;\r\n        this.redoStack.splice(index, 1);\r\n        item.perform();\r\n        this.undoStack.push(item);\r\n        return item;\r\n    };\r\n    HistoryImpl.prototype.reset = function () {\r\n        this.undoStack.splice(0);\r\n        this.redoStack.splice(0);\r\n    };\r\n    return HistoryImpl;\r\n}());\r\nvar history = new HistoryImpl();\r\nexports.history = history;\r\nObject.freeze(history);\r\n", "\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.VisualState = void 0;\r\nvar VisualState;\r\n(function (VisualState) {\r\n    VisualState[\"animatingIn\"] = \"animating-in\";\r\n    VisualState[\"showing\"] = \"showing\";\r\n    VisualState[\"animatingOut\"] = \"animating-out\";\r\n    VisualState[\"hidden\"] = \"hidden\";\r\n})(VisualState = exports.VisualState || (exports.VisualState = {}));\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useStore = void 0;\r\nvar fast_equals_1 = require(\"fast-equals\");\r\nvar React = __importStar(require(\"react\"));\r\nvar tiny_invariant_1 = __importDefault(require(\"tiny-invariant\"));\r\nvar ActionInterface_1 = require(\"./action/ActionInterface\");\r\nvar HistoryImpl_1 = require(\"./action/HistoryImpl\");\r\nvar types_1 = require(\"./types\");\r\nfunction useStore(props) {\r\n    var optionsRef = React.useRef(__assign({ animations: {\r\n            enterMs: 200,\r\n            exitMs: 100,\r\n        } }, props.options));\r\n    var actionsInterface = React.useMemo(function () {\r\n        return new ActionInterface_1.ActionInterface(props.actions || [], {\r\n            historyManager: optionsRef.current.enableHistory ? HistoryImpl_1.history : undefined,\r\n        });\r\n    }, \r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []);\r\n    // TODO: at this point useReducer might be a better approach to managing state.\r\n    var _a = React.useState({\r\n        searchQuery: \"\",\r\n        currentRootActionId: null,\r\n        visualState: types_1.VisualState.hidden,\r\n        actions: __assign({}, actionsInterface.actions),\r\n        activeIndex: 0,\r\n        disabled: false,\r\n    }), state = _a[0], setState = _a[1];\r\n    var currState = React.useRef(state);\r\n    currState.current = state;\r\n    var getState = React.useCallback(function () { return currState.current; }, []);\r\n    var publisher = React.useMemo(function () { return new Publisher(getState); }, [getState]);\r\n    React.useEffect(function () {\r\n        currState.current = state;\r\n        publisher.notify();\r\n    }, [state, publisher]);\r\n    var registerActions = React.useCallback(function (actions) {\r\n        setState(function (state) {\r\n            return __assign(__assign({}, state), { actions: actionsInterface.add(actions) });\r\n        });\r\n        return function unregister() {\r\n            setState(function (state) {\r\n                return __assign(__assign({}, state), { actions: actionsInterface.remove(actions) });\r\n            });\r\n        };\r\n    }, [actionsInterface]);\r\n    var inputRef = React.useRef(null);\r\n    return React.useMemo(function () {\r\n        var query = {\r\n            setCurrentRootAction: function (actionId) {\r\n                setState(function (state) { return (__assign(__assign({}, state), { currentRootActionId: actionId })); });\r\n            },\r\n            setVisualState: function (cb) {\r\n                setState(function (state) { return (__assign(__assign({}, state), { visualState: typeof cb === \"function\" ? cb(state.visualState) : cb })); });\r\n            },\r\n            setSearch: function (searchQuery) {\r\n                return setState(function (state) { return (__assign(__assign({}, state), { searchQuery: searchQuery })); });\r\n            },\r\n            registerActions: registerActions,\r\n            toggle: function () {\r\n                return setState(function (state) { return (__assign(__assign({}, state), { visualState: [types_1.VisualState.animatingOut, types_1.VisualState.hidden].includes(state.visualState)\r\n                        ? types_1.VisualState.animatingIn\r\n                        : types_1.VisualState.animatingOut })); });\r\n            },\r\n            setActiveIndex: function (cb) {\r\n                return setState(function (state) { return (__assign(__assign({}, state), { activeIndex: typeof cb === \"number\" ? cb : cb(state.activeIndex) })); });\r\n            },\r\n            inputRefSetter: function (el) {\r\n                inputRef.current = el;\r\n            },\r\n            getInput: function () {\r\n                (0, tiny_invariant_1.default)(inputRef.current, \"Input ref is undefined, make sure you attach `query.inputRefSetter` to your search input.\");\r\n                return inputRef.current;\r\n            },\r\n            disable: function (disable) {\r\n                setState(function (state) { return (__assign(__assign({}, state), { disabled: disable })); });\r\n            },\r\n        };\r\n        return {\r\n            getState: getState,\r\n            query: query,\r\n            options: optionsRef.current,\r\n            subscribe: function (collector, cb) { return publisher.subscribe(collector, cb); },\r\n        };\r\n    }, [getState, publisher, registerActions]);\r\n}\r\nexports.useStore = useStore;\r\nvar Publisher = /** @class */ (function () {\r\n    function Publisher(getState) {\r\n        this.subscribers = [];\r\n        this.getState = getState;\r\n    }\r\n    Publisher.prototype.subscribe = function (collector, onChange) {\r\n        var _this = this;\r\n        var subscriber = new Subscriber(function () { return collector(_this.getState()); }, onChange);\r\n        this.subscribers.push(subscriber);\r\n        return this.unsubscribe.bind(this, subscriber);\r\n    };\r\n    Publisher.prototype.unsubscribe = function (subscriber) {\r\n        if (this.subscribers.length) {\r\n            var index = this.subscribers.indexOf(subscriber);\r\n            if (index > -1) {\r\n                return this.subscribers.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    Publisher.prototype.notify = function () {\r\n        this.subscribers.forEach(function (subscriber) { return subscriber.collect(); });\r\n    };\r\n    return Publisher;\r\n}());\r\nvar Subscriber = /** @class */ (function () {\r\n    function Subscriber(collector, onChange) {\r\n        this.collector = collector;\r\n        this.onChange = onChange;\r\n    }\r\n    Subscriber.prototype.collect = function () {\r\n        try {\r\n            // grab latest state\r\n            var recollect = this.collector();\r\n            if (!(0, fast_equals_1.deepEqual)(recollect, this.collected)) {\r\n                this.collected = recollect;\r\n                if (this.onChange) {\r\n                    this.onChange(this.collected);\r\n                }\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.warn(error);\r\n        }\r\n    };\r\n    return Subscriber;\r\n}());\r\n", "\"use strict\";\r\n// Fixes special character issues; `?` -> `shift+/` + build issue\r\n// https://github.com/jamiebuilds/tinykeys\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * These are the modifier keys that change the meaning of keybindings.\r\n *\r\n * Note: Ignoring \"AltGraph\" because it is covered by the others.\r\n */\r\nvar KEYBINDING_MODIFIER_KEYS = [\"Shift\", \"Meta\", \"Alt\", \"Control\"];\r\n/**\r\n * Keybinding sequences should timeout if individual key presses are more than\r\n * 1s apart by default.\r\n */\r\nvar DEFAULT_TIMEOUT = 1000;\r\n/**\r\n * Keybinding sequences should bind to this event by default.\r\n */\r\nvar DEFAULT_EVENT = \"keydown\";\r\n/**\r\n * An alias for creating platform-specific keybinding aliases.\r\n */\r\nvar MOD = typeof navigator === \"object\" &&\r\n    /Mac|iPod|iPhone|iPad/.test(navigator.platform)\r\n    ? \"Meta\"\r\n    : \"Control\";\r\n/**\r\n * There's a bug in Chrome that causes event.getModifierState not to exist on\r\n * KeyboardEvent's for F1/F2/etc keys.\r\n */\r\nfunction getModifierState(event, mod) {\r\n    return typeof event.getModifierState === \"function\"\r\n        ? event.getModifierState(mod)\r\n        : false;\r\n}\r\n/**\r\n * Parses a \"Key Binding String\" into its parts\r\n *\r\n * grammar    = `<sequence>`\r\n * <sequence> = `<press> <press> <press> ...`\r\n * <press>    = `<key>` or `<mods>+<key>`\r\n * <mods>     = `<mod>+<mod>+...`\r\n */\r\nfunction parse(str) {\r\n    return str\r\n        .trim()\r\n        .split(\" \")\r\n        .map(function (press) {\r\n        var mods = press.split(/\\b\\+/);\r\n        var key = mods.pop();\r\n        mods = mods.map(function (mod) { return (mod === \"$mod\" ? MOD : mod); });\r\n        return [mods, key];\r\n    });\r\n}\r\n/**\r\n * This tells us if a series of events matches a key binding sequence either\r\n * partially or exactly.\r\n */\r\nfunction match(event, press) {\r\n    // Special characters; `?` `!`\r\n    if (/^[^A-Za-z0-9]$/.test(event.key) && press[1] === event.key) {\r\n        return true;\r\n    }\r\n    // prettier-ignore\r\n    return !(\r\n    // Allow either the `event.key` or the `event.code`\r\n    // MDN event.key: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key\r\n    // MDN event.code: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code\r\n    (press[1].toUpperCase() !== event.key.toUpperCase() &&\r\n        press[1] !== event.code) ||\r\n        // Ensure all the modifiers in the keybinding are pressed.\r\n        press[0].find(function (mod) {\r\n            return !getModifierState(event, mod);\r\n        }) ||\r\n        // KEYBINDING_MODIFIER_KEYS (Shift/Control/etc) change the meaning of a\r\n        // keybinding. So if they are pressed but aren't part of the current\r\n        // keybinding press, then we don't have a match.\r\n        KEYBINDING_MODIFIER_KEYS.find(function (mod) {\r\n            return !press[0].includes(mod) && press[1] !== mod && getModifierState(event, mod);\r\n        }));\r\n}\r\n/**\r\n * Subscribes to keybindings.\r\n *\r\n * Returns an unsubscribe method.\r\n *\r\n * @example\r\n * ```js\r\n * import keybindings from \"../src/keybindings\"\r\n *\r\n * keybindings(window, {\r\n * \t\"Shift+d\": () => {\r\n * \t\talert(\"The 'Shift' and 'd' keys were pressed at the same time\")\r\n * \t},\r\n * \t\"y e e t\": () => {\r\n * \t\talert(\"The keys 'y', 'e', 'e', and 't' were pressed in order\")\r\n * \t},\r\n * \t\"$mod+d\": () => {\r\n * \t\talert(\"Either 'Control+d' or 'Meta+d' were pressed\")\r\n * \t},\r\n * })\r\n * ```\r\n */\r\nfunction keybindings(target, keyBindingMap, options) {\r\n    var _a, _b;\r\n    if (options === void 0) { options = {}; }\r\n    var timeout = (_a = options.timeout) !== null && _a !== void 0 ? _a : DEFAULT_TIMEOUT;\r\n    var event = (_b = options.event) !== null && _b !== void 0 ? _b : DEFAULT_EVENT;\r\n    var keyBindings = Object.keys(keyBindingMap).map(function (key) {\r\n        return [parse(key), keyBindingMap[key]];\r\n    });\r\n    var possibleMatches = new Map();\r\n    var timer = null;\r\n    var onKeyEvent = function (event) {\r\n        // Ensure and stop any event that isn't a full keyboard event.\r\n        // Autocomplete option navigation and selection would fire a instanceof Event,\r\n        // instead of the expected KeyboardEvent\r\n        if (!(event instanceof KeyboardEvent)) {\r\n            return;\r\n        }\r\n        keyBindings.forEach(function (keyBinding) {\r\n            var sequence = keyBinding[0];\r\n            var callback = keyBinding[1];\r\n            var prev = possibleMatches.get(sequence);\r\n            var remainingExpectedPresses = prev ? prev : sequence;\r\n            var currentExpectedPress = remainingExpectedPresses[0];\r\n            var matches = match(event, currentExpectedPress);\r\n            if (!matches) {\r\n                // Modifier keydown events shouldn't break sequences\r\n                // Note: This works because:\r\n                // - non-modifiers will always return false\r\n                // - if the current keypress is a modifier then it will return true when we check its state\r\n                // MDN: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\r\n                if (!getModifierState(event, event.key)) {\r\n                    possibleMatches.delete(sequence);\r\n                }\r\n            }\r\n            else if (remainingExpectedPresses.length > 1) {\r\n                possibleMatches.set(sequence, remainingExpectedPresses.slice(1));\r\n            }\r\n            else {\r\n                possibleMatches.delete(sequence);\r\n                callback(event);\r\n            }\r\n        });\r\n        if (timer) {\r\n            clearTimeout(timer);\r\n        }\r\n        // @ts-ignore\r\n        timer = setTimeout(possibleMatches.clear.bind(possibleMatches), timeout);\r\n    };\r\n    target.addEventListener(event, onKeyEvent);\r\n    return function () {\r\n        target.removeEventListener(event, onKeyEvent);\r\n    };\r\n}\r\nexports.default = keybindings;\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.InternalEvents = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar tinykeys_1 = __importDefault(require(\"./tinykeys\"));\r\nvar types_1 = require(\"./types\");\r\nvar useKBar_1 = require(\"./useKBar\");\r\nvar utils_1 = require(\"./utils\");\r\nfunction InternalEvents() {\r\n    useToggleHandler();\r\n    useDocumentLock();\r\n    useShortcuts();\r\n    useFocusHandler();\r\n    return null;\r\n}\r\nexports.InternalEvents = InternalEvents;\r\n/**\r\n * `useToggleHandler` handles the keyboard events for toggling kbar.\r\n */\r\nfunction useToggleHandler() {\r\n    var _a, _b;\r\n    var _c = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        visualState: state.visualState,\r\n        showing: state.visualState !== types_1.VisualState.hidden,\r\n        disabled: state.disabled,\r\n    }); }), query = _c.query, options = _c.options, visualState = _c.visualState, showing = _c.showing, disabled = _c.disabled;\r\n    React.useEffect(function () {\r\n        var _a;\r\n        var close = function () {\r\n            query.setVisualState(function (vs) {\r\n                if (vs === types_1.VisualState.hidden || vs === types_1.VisualState.animatingOut) {\r\n                    return vs;\r\n                }\r\n                return types_1.VisualState.animatingOut;\r\n            });\r\n        };\r\n        if (disabled) {\r\n            close();\r\n            return;\r\n        }\r\n        var shortcut = options.toggleShortcut || \"$mod+k\";\r\n        var unsubscribe = (0, tinykeys_1.default)(window, (_a = {},\r\n            _a[shortcut] = function (event) {\r\n                var _a, _b, _c, _d;\r\n                if (event.defaultPrevented)\r\n                    return;\r\n                event.preventDefault();\r\n                query.toggle();\r\n                if (showing) {\r\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n                }\r\n                else {\r\n                    (_d = (_c = options.callbacks) === null || _c === void 0 ? void 0 : _c.onOpen) === null || _d === void 0 ? void 0 : _d.call(_c);\r\n                }\r\n            },\r\n            _a.Escape = function (event) {\r\n                var _a, _b;\r\n                if (showing) {\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n                }\r\n                close();\r\n            },\r\n            _a));\r\n        return function () {\r\n            unsubscribe();\r\n        };\r\n    }, [options.callbacks, options.toggleShortcut, query, showing, disabled]);\r\n    var timeoutRef = React.useRef();\r\n    var runAnimateTimer = React.useCallback(function (vs) {\r\n        var _a, _b;\r\n        var ms = 0;\r\n        if (vs === types_1.VisualState.animatingIn) {\r\n            ms = ((_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs) || 0;\r\n        }\r\n        if (vs === types_1.VisualState.animatingOut) {\r\n            ms = ((_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs) || 0;\r\n        }\r\n        clearTimeout(timeoutRef.current);\r\n        timeoutRef.current = setTimeout(function () {\r\n            var backToRoot = false;\r\n            // TODO: setVisualState argument should be a function or just a VisualState value.\r\n            query.setVisualState(function () {\r\n                var finalVs = vs === types_1.VisualState.animatingIn\r\n                    ? types_1.VisualState.showing\r\n                    : types_1.VisualState.hidden;\r\n                if (finalVs === types_1.VisualState.hidden) {\r\n                    backToRoot = true;\r\n                }\r\n                return finalVs;\r\n            });\r\n            if (backToRoot) {\r\n                query.setCurrentRootAction(null);\r\n            }\r\n        }, ms);\r\n    }, [(_a = options.animations) === null || _a === void 0 ? void 0 : _a.enterMs, (_b = options.animations) === null || _b === void 0 ? void 0 : _b.exitMs, query]);\r\n    React.useEffect(function () {\r\n        switch (visualState) {\r\n            case types_1.VisualState.animatingIn:\r\n            case types_1.VisualState.animatingOut:\r\n                runAnimateTimer(visualState);\r\n                break;\r\n        }\r\n    }, [runAnimateTimer, visualState]);\r\n}\r\n/**\r\n * `useDocumentLock` is a simple implementation for preventing the\r\n * underlying page content from scrolling when kbar is open.\r\n */\r\nfunction useDocumentLock() {\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        visualState: state.visualState,\r\n    }); }), visualState = _a.visualState, options = _a.options;\r\n    React.useEffect(function () {\r\n        if (options.disableDocumentLock)\r\n            return;\r\n        if (visualState === types_1.VisualState.animatingIn) {\r\n            document.body.style.overflow = \"hidden\";\r\n            if (!options.disableScrollbarManagement) {\r\n                var scrollbarWidth = (0, utils_1.getScrollbarWidth)();\r\n                // take into account the margins explicitly added by the consumer\r\n                var mr = getComputedStyle(document.body)[\"margin-right\"];\r\n                if (mr) {\r\n                    // remove non-numeric values; px, rem, em, etc.\r\n                    scrollbarWidth += Number(mr.replace(/\\D/g, \"\"));\r\n                }\r\n                document.body.style.marginRight = scrollbarWidth + \"px\";\r\n            }\r\n        }\r\n        else if (visualState === types_1.VisualState.hidden) {\r\n            document.body.style.removeProperty(\"overflow\");\r\n            if (!options.disableScrollbarManagement) {\r\n                document.body.style.removeProperty(\"margin-right\");\r\n            }\r\n        }\r\n    }, [\r\n        options.disableDocumentLock,\r\n        options.disableScrollbarManagement,\r\n        visualState,\r\n    ]);\r\n}\r\n/**\r\n * Reference: https://github.com/jamiebuilds/tinykeys/issues/37\r\n *\r\n * Fixes an issue where simultaneous key commands for shortcuts;\r\n * ie given two actions with shortcuts ['t','s'] and ['s'], pressing\r\n * 't' and 's' consecutively will cause both shortcuts to fire.\r\n *\r\n * `wrap` sets each keystroke event in a WeakSet, and ensures that\r\n * if ['t', 's'] are pressed, then the subsequent ['s'] event will\r\n * be ignored. This depends on the order in which we register the\r\n * shortcuts to tinykeys, which is handled below.\r\n */\r\nvar handled = new WeakSet();\r\nfunction wrap(handler) {\r\n    return function (event) {\r\n        if (handled.has(event))\r\n            return;\r\n        handler(event);\r\n        handled.add(event);\r\n    };\r\n}\r\n/**\r\n * `useShortcuts` registers and listens to keyboard strokes and\r\n * performs actions for patterns that match the user defined `shortcut`.\r\n */\r\nfunction useShortcuts() {\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        actions: state.actions,\r\n        open: state.visualState === types_1.VisualState.showing,\r\n        disabled: state.disabled,\r\n    }); }), actions = _a.actions, query = _a.query, open = _a.open, options = _a.options, disabled = _a.disabled;\r\n    React.useEffect(function () {\r\n        var _a;\r\n        if (open || disabled)\r\n            return;\r\n        var actionsList = Object.keys(actions).map(function (key) { return actions[key]; });\r\n        var actionsWithShortcuts = [];\r\n        for (var _i = 0, actionsList_1 = actionsList; _i < actionsList_1.length; _i++) {\r\n            var action = actionsList_1[_i];\r\n            if (!((_a = action.shortcut) === null || _a === void 0 ? void 0 : _a.length)) {\r\n                continue;\r\n            }\r\n            actionsWithShortcuts.push(action);\r\n        }\r\n        actionsWithShortcuts = actionsWithShortcuts.sort(function (a, b) { return b.shortcut.join(\" \").length - a.shortcut.join(\" \").length; });\r\n        var shortcutsMap = {};\r\n        var _loop_1 = function (action) {\r\n            var shortcut = action.shortcut.join(\" \");\r\n            shortcutsMap[shortcut] = wrap(function (event) {\r\n                var _a, _b, _c, _d, _e, _f;\r\n                if ((0, utils_1.shouldRejectKeystrokes)())\r\n                    return;\r\n                event.preventDefault();\r\n                if ((_a = action.children) === null || _a === void 0 ? void 0 : _a.length) {\r\n                    query.setCurrentRootAction(action.id);\r\n                    query.toggle();\r\n                    (_c = (_b = options.callbacks) === null || _b === void 0 ? void 0 : _b.onOpen) === null || _c === void 0 ? void 0 : _c.call(_b);\r\n                }\r\n                else {\r\n                    (_d = action.command) === null || _d === void 0 ? void 0 : _d.perform();\r\n                    (_f = (_e = options.callbacks) === null || _e === void 0 ? void 0 : _e.onSelectAction) === null || _f === void 0 ? void 0 : _f.call(_e, action);\r\n                }\r\n            });\r\n        };\r\n        for (var _b = 0, actionsWithShortcuts_1 = actionsWithShortcuts; _b < actionsWithShortcuts_1.length; _b++) {\r\n            var action = actionsWithShortcuts_1[_b];\r\n            _loop_1(action);\r\n        }\r\n        var unsubscribe = (0, tinykeys_1.default)(window, shortcutsMap, {\r\n            timeout: 400,\r\n        });\r\n        return function () {\r\n            unsubscribe();\r\n        };\r\n    }, [actions, open, options.callbacks, query, disabled]);\r\n}\r\n/**\r\n * `useFocusHandler` ensures that focus is set back on the element which was\r\n * in focus prior to kbar being triggered.\r\n */\r\nfunction useFocusHandler() {\r\n    var rFirstRender = React.useRef(true);\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        isShowing: state.visualState === types_1.VisualState.showing ||\r\n            state.visualState === types_1.VisualState.animatingIn,\r\n    }); }), isShowing = _a.isShowing, query = _a.query;\r\n    var activeElementRef = React.useRef(null);\r\n    React.useEffect(function () {\r\n        if (rFirstRender.current) {\r\n            rFirstRender.current = false;\r\n            return;\r\n        }\r\n        if (isShowing) {\r\n            activeElementRef.current = document.activeElement;\r\n            return;\r\n        }\r\n        // This fixes an issue on Safari where closing kbar causes the entire\r\n        // page to scroll to the bottom. The reason this was happening was due\r\n        // to the search input still in focus when we removed it from the dom.\r\n        var currentActiveElement = document.activeElement;\r\n        if ((currentActiveElement === null || currentActiveElement === void 0 ? void 0 : currentActiveElement.tagName.toLowerCase()) === \"input\") {\r\n            currentActiveElement.blur();\r\n        }\r\n        var activeElement = activeElementRef.current;\r\n        if (activeElement && activeElement !== currentActiveElement) {\r\n            activeElement.focus();\r\n        }\r\n    }, [isShowing]);\r\n    // When focus is blurred from the search input while kbar is still\r\n    // open, any keystroke should set focus back to the search input.\r\n    React.useEffect(function () {\r\n        function handler(event) {\r\n            var input = query.getInput();\r\n            if (event.target !== input) {\r\n                input.focus();\r\n            }\r\n        }\r\n        if (isShowing) {\r\n            window.addEventListener(\"keydown\", handler);\r\n            return function () {\r\n                window.removeEventListener(\"keydown\", handler);\r\n            };\r\n        }\r\n    }, [isShowing, query]);\r\n}\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarProvider = exports.KBarContext = void 0;\r\nvar useStore_1 = require(\"./useStore\");\r\nvar React = __importStar(require(\"react\"));\r\nvar InternalEvents_1 = require(\"./InternalEvents\");\r\nexports.KBarContext = React.createContext({});\r\nvar KBarProvider = function (props) {\r\n    var contextValue = (0, useStore_1.useStore)(props);\r\n    return (React.createElement(exports.KBarContext.Provider, { value: contextValue },\r\n        React.createElement(InternalEvents_1.InternalEvents, null),\r\n        props.children));\r\n};\r\nexports.KBarProvider = KBarProvider;\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useKBar = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar KBarContextProvider_1 = require(\"./KBarContextProvider\");\r\nfunction useKBar(collector) {\r\n    var _a = React.useContext(KBarContextProvider_1.KBarContext), query = _a.query, getState = _a.getState, subscribe = _a.subscribe, options = _a.options;\r\n    var collected = React.useRef(collector === null || collector === void 0 ? void 0 : collector(getState()));\r\n    var collectorRef = React.useRef(collector);\r\n    var onCollect = React.useCallback(function (collected) { return (__assign(__assign({}, collected), { query: query, options: options })); }, [query, options]);\r\n    var _b = React.useState(onCollect(collected.current)), render = _b[0], setRender = _b[1];\r\n    React.useEffect(function () {\r\n        var unsubscribe;\r\n        if (collectorRef.current) {\r\n            unsubscribe = subscribe(function (current) { return collectorRef.current(current); }, function (collected) { return setRender(onCollect(collected)); });\r\n        }\r\n        return function () {\r\n            if (unsubscribe) {\r\n                unsubscribe();\r\n            }\r\n        };\r\n    }, [onCollect, subscribe]);\r\n    return render;\r\n}\r\nexports.useKBar = useKBar;\r\n", "/**\r\n * Fuse.js v6.6.2 - Lightweight fuzzy-search (http://fusejs.io)\r\n *\r\n * Copyright (c) 2022 Kiro Risk (http://kiro.me)\r\n * All Rights Reserved. Apache Software License 2.0\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\nfunction isArray(value) {\r\n  return !Array.isArray\r\n    ? getTag(value) === '[object Array]'\r\n    : Array.isArray(value)\r\n}\r\n\r\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\r\nconst INFINITY = 1 / 0;\r\nfunction baseToString(value) {\r\n  // Exit early for strings to avoid a performance hit in some environments.\r\n  if (typeof value == 'string') {\r\n    return value\r\n  }\r\n  let result = value + '';\r\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\r\n}\r\n\r\nfunction toString(value) {\r\n  return value == null ? '' : baseToString(value)\r\n}\r\n\r\nfunction isString(value) {\r\n  return typeof value === 'string'\r\n}\r\n\r\nfunction isNumber(value) {\r\n  return typeof value === 'number'\r\n}\r\n\r\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\r\nfunction isBoolean(value) {\r\n  return (\r\n    value === true ||\r\n    value === false ||\r\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\r\n  )\r\n}\r\n\r\nfunction isObject(value) {\r\n  return typeof value === 'object'\r\n}\r\n\r\n// Checks if `value` is object-like.\r\nfunction isObjectLike(value) {\r\n  return isObject(value) && value !== null\r\n}\r\n\r\nfunction isDefined(value) {\r\n  return value !== undefined && value !== null\r\n}\r\n\r\nfunction isBlank(value) {\r\n  return !value.trim().length\r\n}\r\n\r\n// Gets the `toStringTag` of `value`.\r\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\r\nfunction getTag(value) {\r\n  return value == null\r\n    ? value === undefined\r\n      ? '[object Undefined]'\r\n      : '[object Null]'\r\n    : Object.prototype.toString.call(value)\r\n}\r\n\r\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\r\n\r\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\r\n\r\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\r\n  `Invalid value for key ${key}`;\r\n\r\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\r\n  `Pattern length exceeds max of ${max}.`;\r\n\r\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\r\n\r\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\r\n  `Property 'weight' in key '${key}' must be a positive integer`;\r\n\r\nconst hasOwn = Object.prototype.hasOwnProperty;\r\n\r\nclass KeyStore {\r\n  constructor(keys) {\r\n    this._keys = [];\r\n    this._keyMap = {};\r\n\r\n    let totalWeight = 0;\r\n\r\n    keys.forEach((key) => {\r\n      let obj = createKey(key);\r\n\r\n      totalWeight += obj.weight;\r\n\r\n      this._keys.push(obj);\r\n      this._keyMap[obj.id] = obj;\r\n\r\n      totalWeight += obj.weight;\r\n    });\r\n\r\n    // Normalize weights so that their sum is equal to 1\r\n    this._keys.forEach((key) => {\r\n      key.weight /= totalWeight;\r\n    });\r\n  }\r\n  get(keyId) {\r\n    return this._keyMap[keyId]\r\n  }\r\n  keys() {\r\n    return this._keys\r\n  }\r\n  toJSON() {\r\n    return JSON.stringify(this._keys)\r\n  }\r\n}\r\n\r\nfunction createKey(key) {\r\n  let path = null;\r\n  let id = null;\r\n  let src = null;\r\n  let weight = 1;\r\n  let getFn = null;\r\n\r\n  if (isString(key) || isArray(key)) {\r\n    src = key;\r\n    path = createKeyPath(key);\r\n    id = createKeyId(key);\r\n  } else {\r\n    if (!hasOwn.call(key, 'name')) {\r\n      throw new Error(MISSING_KEY_PROPERTY('name'))\r\n    }\r\n\r\n    const name = key.name;\r\n    src = name;\r\n\r\n    if (hasOwn.call(key, 'weight')) {\r\n      weight = key.weight;\r\n\r\n      if (weight <= 0) {\r\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\r\n      }\r\n    }\r\n\r\n    path = createKeyPath(name);\r\n    id = createKeyId(name);\r\n    getFn = key.getFn;\r\n  }\r\n\r\n  return { path, id, weight, src, getFn }\r\n}\r\n\r\nfunction createKeyPath(key) {\r\n  return isArray(key) ? key : key.split('.')\r\n}\r\n\r\nfunction createKeyId(key) {\r\n  return isArray(key) ? key.join('.') : key\r\n}\r\n\r\nfunction get(obj, path) {\r\n  let list = [];\r\n  let arr = false;\r\n\r\n  const deepGet = (obj, path, index) => {\r\n    if (!isDefined(obj)) {\r\n      return\r\n    }\r\n    if (!path[index]) {\r\n      // If there's no path left, we've arrived at the object we care about.\r\n      list.push(obj);\r\n    } else {\r\n      let key = path[index];\r\n\r\n      const value = obj[key];\r\n\r\n      if (!isDefined(value)) {\r\n        return\r\n      }\r\n\r\n      // If we're at the last value in the path, and if it's a string/number/bool,\r\n      // add it to the list\r\n      if (\r\n        index === path.length - 1 &&\r\n        (isString(value) || isNumber(value) || isBoolean(value))\r\n      ) {\r\n        list.push(toString(value));\r\n      } else if (isArray(value)) {\r\n        arr = true;\r\n        // Search each item in the array.\r\n        for (let i = 0, len = value.length; i < len; i += 1) {\r\n          deepGet(value[i], path, index + 1);\r\n        }\r\n      } else if (path.length) {\r\n        // An object. Recurse further.\r\n        deepGet(value, path, index + 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Backwards compatibility (since path used to be a string)\r\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\r\n\r\n  return arr ? list : list[0]\r\n}\r\n\r\nconst MatchOptions = {\r\n  // Whether the matches should be included in the result set. When `true`, each record in the result\r\n  // set will include the indices of the matched characters.\r\n  // These can consequently be used for highlighting purposes.\r\n  includeMatches: false,\r\n  // When `true`, the matching function will continue to the end of a search pattern even if\r\n  // a perfect match has already been located in the string.\r\n  findAllMatches: false,\r\n  // Minimum number of characters that must be matched before a result is considered a match\r\n  minMatchCharLength: 1\r\n};\r\n\r\nconst BasicOptions = {\r\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\r\n  // match is found before the end of the same input.\r\n  isCaseSensitive: false,\r\n  // When true, the matching function will continue to the end of a search pattern even if\r\n  includeScore: false,\r\n  // List of properties that will be searched. This also supports nested properties.\r\n  keys: [],\r\n  // Whether to sort the result list, by score\r\n  shouldSort: true,\r\n  // Default sort function: sort by ascending score, ascending index\r\n  sortFn: (a, b) =>\r\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\r\n};\r\n\r\nconst FuzzyOptions = {\r\n  // Approximately where in the text is the pattern expected to be found?\r\n  location: 0,\r\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\r\n  // (of both letters and location), a threshold of '1.0' would match anything.\r\n  threshold: 0.6,\r\n  // Determines how close the match must be to the fuzzy location (specified above).\r\n  // An exact letter match which is 'distance' characters away from the fuzzy location\r\n  // would score as a complete mismatch. A distance of '0' requires the match be at\r\n  // the exact location specified, a threshold of '1000' would require a perfect match\r\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\r\n  distance: 100\r\n};\r\n\r\nconst AdvancedOptions = {\r\n  // When `true`, it enables the use of unix-like search commands\r\n  useExtendedSearch: false,\r\n  // The get function to use when fetching an object's properties.\r\n  // The default will search nested paths *ie foo.bar.baz*\r\n  getFn: get,\r\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\r\n  // where in the string the pattern appears.\r\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\r\n  ignoreLocation: false,\r\n  // When `true`, the calculation for the relevance score (used for sorting) will\r\n  // ignore the field-length norm.\r\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\r\n  ignoreFieldNorm: false,\r\n  // The weight to determine how much field length norm effects scoring.\r\n  fieldNormWeight: 1\r\n};\r\n\r\nvar Config = {\r\n  ...BasicOptions,\r\n  ...MatchOptions,\r\n  ...FuzzyOptions,\r\n  ...AdvancedOptions\r\n};\r\n\r\nconst SPACE = /[^ ]+/g;\r\n\r\n// Field-length norm: the shorter the field, the higher the weight.\r\n// Set to 3 decimals to reduce index size.\r\nfunction norm(weight = 1, mantissa = 3) {\r\n  const cache = new Map();\r\n  const m = Math.pow(10, mantissa);\r\n\r\n  return {\r\n    get(value) {\r\n      const numTokens = value.match(SPACE).length;\r\n\r\n      if (cache.has(numTokens)) {\r\n        return cache.get(numTokens)\r\n      }\r\n\r\n      // Default function is 1/sqrt(x), weight makes that variable\r\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\r\n\r\n      // In place of `toFixed(mantissa)`, for faster computation\r\n      const n = parseFloat(Math.round(norm * m) / m);\r\n\r\n      cache.set(numTokens, n);\r\n\r\n      return n\r\n    },\r\n    clear() {\r\n      cache.clear();\r\n    }\r\n  }\r\n}\r\n\r\nclass FuseIndex {\r\n  constructor({\r\n    getFn = Config.getFn,\r\n    fieldNormWeight = Config.fieldNormWeight\r\n  } = {}) {\r\n    this.norm = norm(fieldNormWeight, 3);\r\n    this.getFn = getFn;\r\n    this.isCreated = false;\r\n\r\n    this.setIndexRecords();\r\n  }\r\n  setSources(docs = []) {\r\n    this.docs = docs;\r\n  }\r\n  setIndexRecords(records = []) {\r\n    this.records = records;\r\n  }\r\n  setKeys(keys = []) {\r\n    this.keys = keys;\r\n    this._keysMap = {};\r\n    keys.forEach((key, idx) => {\r\n      this._keysMap[key.id] = idx;\r\n    });\r\n  }\r\n  create() {\r\n    if (this.isCreated || !this.docs.length) {\r\n      return\r\n    }\r\n\r\n    this.isCreated = true;\r\n\r\n    // List is Array<String>\r\n    if (isString(this.docs[0])) {\r\n      this.docs.forEach((doc, docIndex) => {\r\n        this._addString(doc, docIndex);\r\n      });\r\n    } else {\r\n      // List is Array<Object>\r\n      this.docs.forEach((doc, docIndex) => {\r\n        this._addObject(doc, docIndex);\r\n      });\r\n    }\r\n\r\n    this.norm.clear();\r\n  }\r\n  // Adds a doc to the end of the index\r\n  add(doc) {\r\n    const idx = this.size();\r\n\r\n    if (isString(doc)) {\r\n      this._addString(doc, idx);\r\n    } else {\r\n      this._addObject(doc, idx);\r\n    }\r\n  }\r\n  // Removes the doc at the specified index of the index\r\n  removeAt(idx) {\r\n    this.records.splice(idx, 1);\r\n\r\n    // Change ref index of every subsquent doc\r\n    for (let i = idx, len = this.size(); i < len; i += 1) {\r\n      this.records[i].i -= 1;\r\n    }\r\n  }\r\n  getValueForItemAtKeyId(item, keyId) {\r\n    return item[this._keysMap[keyId]]\r\n  }\r\n  size() {\r\n    return this.records.length\r\n  }\r\n  _addString(doc, docIndex) {\r\n    if (!isDefined(doc) || isBlank(doc)) {\r\n      return\r\n    }\r\n\r\n    let record = {\r\n      v: doc,\r\n      i: docIndex,\r\n      n: this.norm.get(doc)\r\n    };\r\n\r\n    this.records.push(record);\r\n  }\r\n  _addObject(doc, docIndex) {\r\n    let record = { i: docIndex, $: {} };\r\n\r\n    // Iterate over every key (i.e, path), and fetch the value at that key\r\n    this.keys.forEach((key, keyIndex) => {\r\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\r\n\r\n      if (!isDefined(value)) {\r\n        return\r\n      }\r\n\r\n      if (isArray(value)) {\r\n        let subRecords = [];\r\n        const stack = [{ nestedArrIndex: -1, value }];\r\n\r\n        while (stack.length) {\r\n          const { nestedArrIndex, value } = stack.pop();\r\n\r\n          if (!isDefined(value)) {\r\n            continue\r\n          }\r\n\r\n          if (isString(value) && !isBlank(value)) {\r\n            let subRecord = {\r\n              v: value,\r\n              i: nestedArrIndex,\r\n              n: this.norm.get(value)\r\n            };\r\n\r\n            subRecords.push(subRecord);\r\n          } else if (isArray(value)) {\r\n            value.forEach((item, k) => {\r\n              stack.push({\r\n                nestedArrIndex: k,\r\n                value: item\r\n              });\r\n            });\r\n          } else ;\r\n        }\r\n        record.$[keyIndex] = subRecords;\r\n      } else if (isString(value) && !isBlank(value)) {\r\n        let subRecord = {\r\n          v: value,\r\n          n: this.norm.get(value)\r\n        };\r\n\r\n        record.$[keyIndex] = subRecord;\r\n      }\r\n    });\r\n\r\n    this.records.push(record);\r\n  }\r\n  toJSON() {\r\n    return {\r\n      keys: this.keys,\r\n      records: this.records\r\n    }\r\n  }\r\n}\r\n\r\nfunction createIndex(\r\n  keys,\r\n  docs,\r\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\r\n) {\r\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\r\n  myIndex.setKeys(keys.map(createKey));\r\n  myIndex.setSources(docs);\r\n  myIndex.create();\r\n  return myIndex\r\n}\r\n\r\nfunction parseIndex(\r\n  data,\r\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\r\n) {\r\n  const { keys, records } = data;\r\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\r\n  myIndex.setKeys(keys);\r\n  myIndex.setIndexRecords(records);\r\n  return myIndex\r\n}\r\n\r\nfunction computeScore$1(\r\n  pattern,\r\n  {\r\n    errors = 0,\r\n    currentLocation = 0,\r\n    expectedLocation = 0,\r\n    distance = Config.distance,\r\n    ignoreLocation = Config.ignoreLocation\r\n  } = {}\r\n) {\r\n  const accuracy = errors / pattern.length;\r\n\r\n  if (ignoreLocation) {\r\n    return accuracy\r\n  }\r\n\r\n  const proximity = Math.abs(expectedLocation - currentLocation);\r\n\r\n  if (!distance) {\r\n    // Dodge divide by zero error.\r\n    return proximity ? 1.0 : accuracy\r\n  }\r\n\r\n  return accuracy + proximity / distance\r\n}\r\n\r\nfunction convertMaskToIndices(\r\n  matchmask = [],\r\n  minMatchCharLength = Config.minMatchCharLength\r\n) {\r\n  let indices = [];\r\n  let start = -1;\r\n  let end = -1;\r\n  let i = 0;\r\n\r\n  for (let len = matchmask.length; i < len; i += 1) {\r\n    let match = matchmask[i];\r\n    if (match && start === -1) {\r\n      start = i;\r\n    } else if (!match && start !== -1) {\r\n      end = i - 1;\r\n      if (end - start + 1 >= minMatchCharLength) {\r\n        indices.push([start, end]);\r\n      }\r\n      start = -1;\r\n    }\r\n  }\r\n\r\n  // (i-1 - start) + 1 => i - start\r\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\r\n    indices.push([start, i - 1]);\r\n  }\r\n\r\n  return indices\r\n}\r\n\r\n// Machine word size\r\nconst MAX_BITS = 32;\r\n\r\nfunction search(\r\n  text,\r\n  pattern,\r\n  patternAlphabet,\r\n  {\r\n    location = Config.location,\r\n    distance = Config.distance,\r\n    threshold = Config.threshold,\r\n    findAllMatches = Config.findAllMatches,\r\n    minMatchCharLength = Config.minMatchCharLength,\r\n    includeMatches = Config.includeMatches,\r\n    ignoreLocation = Config.ignoreLocation\r\n  } = {}\r\n) {\r\n  if (pattern.length > MAX_BITS) {\r\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\r\n  }\r\n\r\n  const patternLen = pattern.length;\r\n  // Set starting location at beginning text and initialize the alphabet.\r\n  const textLen = text.length;\r\n  // Handle the case when location > text.length\r\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\r\n  // Highest score beyond which we give up.\r\n  let currentThreshold = threshold;\r\n  // Is there a nearby exact match? (speedup)\r\n  let bestLocation = expectedLocation;\r\n\r\n  // Performance: only computer matches when the minMatchCharLength > 1\r\n  // OR if `includeMatches` is true.\r\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\r\n  // A mask of the matches, used for building the indices\r\n  const matchMask = computeMatches ? Array(textLen) : [];\r\n\r\n  let index;\r\n\r\n  // Get all exact matches, here for speed up\r\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\r\n    let score = computeScore$1(pattern, {\r\n      currentLocation: index,\r\n      expectedLocation,\r\n      distance,\r\n      ignoreLocation\r\n    });\r\n\r\n    currentThreshold = Math.min(score, currentThreshold);\r\n    bestLocation = index + patternLen;\r\n\r\n    if (computeMatches) {\r\n      let i = 0;\r\n      while (i < patternLen) {\r\n        matchMask[index + i] = 1;\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  // Reset the best location\r\n  bestLocation = -1;\r\n\r\n  let lastBitArr = [];\r\n  let finalScore = 1;\r\n  let binMax = patternLen + textLen;\r\n\r\n  const mask = 1 << (patternLen - 1);\r\n\r\n  for (let i = 0; i < patternLen; i += 1) {\r\n    // Scan for the best match; each iteration allows for one more error.\r\n    // Run a binary search to determine how far from the match location we can stray\r\n    // at this error level.\r\n    let binMin = 0;\r\n    let binMid = binMax;\r\n\r\n    while (binMin < binMid) {\r\n      const score = computeScore$1(pattern, {\r\n        errors: i,\r\n        currentLocation: expectedLocation + binMid,\r\n        expectedLocation,\r\n        distance,\r\n        ignoreLocation\r\n      });\r\n\r\n      if (score <= currentThreshold) {\r\n        binMin = binMid;\r\n      } else {\r\n        binMax = binMid;\r\n      }\r\n\r\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\r\n    }\r\n\r\n    // Use the result from this iteration as the maximum for the next.\r\n    binMax = binMid;\r\n\r\n    let start = Math.max(1, expectedLocation - binMid + 1);\r\n    let finish = findAllMatches\r\n      ? textLen\r\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\r\n\r\n    // Initialize the bit array\r\n    let bitArr = Array(finish + 2);\r\n\r\n    bitArr[finish + 1] = (1 << i) - 1;\r\n\r\n    for (let j = finish; j >= start; j -= 1) {\r\n      let currentLocation = j - 1;\r\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\r\n\r\n      if (computeMatches) {\r\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\r\n        matchMask[currentLocation] = +!!charMatch;\r\n      }\r\n\r\n      // First pass: exact match\r\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\r\n\r\n      // Subsequent passes: fuzzy match\r\n      if (i) {\r\n        bitArr[j] |=\r\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\r\n      }\r\n\r\n      if (bitArr[j] & mask) {\r\n        finalScore = computeScore$1(pattern, {\r\n          errors: i,\r\n          currentLocation,\r\n          expectedLocation,\r\n          distance,\r\n          ignoreLocation\r\n        });\r\n\r\n        // This match will almost certainly be better than any existing match.\r\n        // But check anyway.\r\n        if (finalScore <= currentThreshold) {\r\n          // Indeed it is\r\n          currentThreshold = finalScore;\r\n          bestLocation = currentLocation;\r\n\r\n          // Already passed `loc`, downhill from here on in.\r\n          if (bestLocation <= expectedLocation) {\r\n            break\r\n          }\r\n\r\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\r\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\r\n        }\r\n      }\r\n    }\r\n\r\n    // No hope for a (better) match at greater error levels.\r\n    const score = computeScore$1(pattern, {\r\n      errors: i + 1,\r\n      currentLocation: expectedLocation,\r\n      expectedLocation,\r\n      distance,\r\n      ignoreLocation\r\n    });\r\n\r\n    if (score > currentThreshold) {\r\n      break\r\n    }\r\n\r\n    lastBitArr = bitArr;\r\n  }\r\n\r\n  const result = {\r\n    isMatch: bestLocation >= 0,\r\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\r\n    score: Math.max(0.001, finalScore)\r\n  };\r\n\r\n  if (computeMatches) {\r\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\r\n    if (!indices.length) {\r\n      result.isMatch = false;\r\n    } else if (includeMatches) {\r\n      result.indices = indices;\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction createPatternAlphabet(pattern) {\r\n  let mask = {};\r\n\r\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\r\n    const char = pattern.charAt(i);\r\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\r\n  }\r\n\r\n  return mask\r\n}\r\n\r\nclass BitapSearch {\r\n  constructor(\r\n    pattern,\r\n    {\r\n      location = Config.location,\r\n      threshold = Config.threshold,\r\n      distance = Config.distance,\r\n      includeMatches = Config.includeMatches,\r\n      findAllMatches = Config.findAllMatches,\r\n      minMatchCharLength = Config.minMatchCharLength,\r\n      isCaseSensitive = Config.isCaseSensitive,\r\n      ignoreLocation = Config.ignoreLocation\r\n    } = {}\r\n  ) {\r\n    this.options = {\r\n      location,\r\n      threshold,\r\n      distance,\r\n      includeMatches,\r\n      findAllMatches,\r\n      minMatchCharLength,\r\n      isCaseSensitive,\r\n      ignoreLocation\r\n    };\r\n\r\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\r\n\r\n    this.chunks = [];\r\n\r\n    if (!this.pattern.length) {\r\n      return\r\n    }\r\n\r\n    const addChunk = (pattern, startIndex) => {\r\n      this.chunks.push({\r\n        pattern,\r\n        alphabet: createPatternAlphabet(pattern),\r\n        startIndex\r\n      });\r\n    };\r\n\r\n    const len = this.pattern.length;\r\n\r\n    if (len > MAX_BITS) {\r\n      let i = 0;\r\n      const remainder = len % MAX_BITS;\r\n      const end = len - remainder;\r\n\r\n      while (i < end) {\r\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\r\n        i += MAX_BITS;\r\n      }\r\n\r\n      if (remainder) {\r\n        const startIndex = len - MAX_BITS;\r\n        addChunk(this.pattern.substr(startIndex), startIndex);\r\n      }\r\n    } else {\r\n      addChunk(this.pattern, 0);\r\n    }\r\n  }\r\n\r\n  searchIn(text) {\r\n    const { isCaseSensitive, includeMatches } = this.options;\r\n\r\n    if (!isCaseSensitive) {\r\n      text = text.toLowerCase();\r\n    }\r\n\r\n    // Exact match\r\n    if (this.pattern === text) {\r\n      let result = {\r\n        isMatch: true,\r\n        score: 0\r\n      };\r\n\r\n      if (includeMatches) {\r\n        result.indices = [[0, text.length - 1]];\r\n      }\r\n\r\n      return result\r\n    }\r\n\r\n    // Otherwise, use Bitap algorithm\r\n    const {\r\n      location,\r\n      distance,\r\n      threshold,\r\n      findAllMatches,\r\n      minMatchCharLength,\r\n      ignoreLocation\r\n    } = this.options;\r\n\r\n    let allIndices = [];\r\n    let totalScore = 0;\r\n    let hasMatches = false;\r\n\r\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\r\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\r\n        location: location + startIndex,\r\n        distance,\r\n        threshold,\r\n        findAllMatches,\r\n        minMatchCharLength,\r\n        includeMatches,\r\n        ignoreLocation\r\n      });\r\n\r\n      if (isMatch) {\r\n        hasMatches = true;\r\n      }\r\n\r\n      totalScore += score;\r\n\r\n      if (isMatch && indices) {\r\n        allIndices = [...allIndices, ...indices];\r\n      }\r\n    });\r\n\r\n    let result = {\r\n      isMatch: hasMatches,\r\n      score: hasMatches ? totalScore / this.chunks.length : 1\r\n    };\r\n\r\n    if (hasMatches && includeMatches) {\r\n      result.indices = allIndices;\r\n    }\r\n\r\n    return result\r\n  }\r\n}\r\n\r\nclass BaseMatch {\r\n  constructor(pattern) {\r\n    this.pattern = pattern;\r\n  }\r\n  static isMultiMatch(pattern) {\r\n    return getMatch(pattern, this.multiRegex)\r\n  }\r\n  static isSingleMatch(pattern) {\r\n    return getMatch(pattern, this.singleRegex)\r\n  }\r\n  search(/*text*/) {}\r\n}\r\n\r\nfunction getMatch(pattern, exp) {\r\n  const matches = pattern.match(exp);\r\n  return matches ? matches[1] : null\r\n}\r\n\r\n// Token: 'file\r\n\r\nclass ExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^=\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^=(.*)$/\r\n  }\r\n  search(text) {\r\n    const isMatch = text === this.pattern;\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [0, this.pattern.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\n// Token: !fire\r\n\r\nclass InverseExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'inverse-exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^!\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^!(.*)$/\r\n  }\r\n  search(text) {\r\n    const index = text.indexOf(this.pattern);\r\n    const isMatch = index === -1;\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [0, text.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\n// Token: ^file\r\n\r\nclass PrefixExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'prefix-exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^\\^\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^\\^(.*)$/\r\n  }\r\n  search(text) {\r\n    const isMatch = text.startsWith(this.pattern);\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [0, this.pattern.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\n// Token: !^fire\r\n\r\nclass InversePrefixExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'inverse-prefix-exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^!\\^\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^!\\^(.*)$/\r\n  }\r\n  search(text) {\r\n    const isMatch = !text.startsWith(this.pattern);\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [0, text.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\n// Token: .file$\r\n\r\nclass SuffixExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'suffix-exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^\"(.*)\"\\$$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^(.*)\\$$/\r\n  }\r\n  search(text) {\r\n    const isMatch = text.endsWith(this.pattern);\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [text.length - this.pattern.length, text.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\n// Token: !.file$\r\n\r\nclass InverseSuffixExactMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'inverse-suffix-exact'\r\n  }\r\n  static get multiRegex() {\r\n    return /^!\"(.*)\"\\$$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^!(.*)\\$$/\r\n  }\r\n  search(text) {\r\n    const isMatch = !text.endsWith(this.pattern);\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices: [0, text.length - 1]\r\n    }\r\n  }\r\n}\r\n\r\nclass FuzzyMatch extends BaseMatch {\r\n  constructor(\r\n    pattern,\r\n    {\r\n      location = Config.location,\r\n      threshold = Config.threshold,\r\n      distance = Config.distance,\r\n      includeMatches = Config.includeMatches,\r\n      findAllMatches = Config.findAllMatches,\r\n      minMatchCharLength = Config.minMatchCharLength,\r\n      isCaseSensitive = Config.isCaseSensitive,\r\n      ignoreLocation = Config.ignoreLocation\r\n    } = {}\r\n  ) {\r\n    super(pattern);\r\n    this._bitapSearch = new BitapSearch(pattern, {\r\n      location,\r\n      threshold,\r\n      distance,\r\n      includeMatches,\r\n      findAllMatches,\r\n      minMatchCharLength,\r\n      isCaseSensitive,\r\n      ignoreLocation\r\n    });\r\n  }\r\n  static get type() {\r\n    return 'fuzzy'\r\n  }\r\n  static get multiRegex() {\r\n    return /^\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^(.*)$/\r\n  }\r\n  search(text) {\r\n    return this._bitapSearch.searchIn(text)\r\n  }\r\n}\r\n\r\n// Token: 'file\r\n\r\nclass IncludeMatch extends BaseMatch {\r\n  constructor(pattern) {\r\n    super(pattern);\r\n  }\r\n  static get type() {\r\n    return 'include'\r\n  }\r\n  static get multiRegex() {\r\n    return /^'\"(.*)\"$/\r\n  }\r\n  static get singleRegex() {\r\n    return /^'(.*)$/\r\n  }\r\n  search(text) {\r\n    let location = 0;\r\n    let index;\r\n\r\n    const indices = [];\r\n    const patternLen = this.pattern.length;\r\n\r\n    // Get all exact matches\r\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\r\n      location = index + patternLen;\r\n      indices.push([index, location - 1]);\r\n    }\r\n\r\n    const isMatch = !!indices.length;\r\n\r\n    return {\r\n      isMatch,\r\n      score: isMatch ? 0 : 1,\r\n      indices\r\n    }\r\n  }\r\n}\r\n\r\n// Order is important. DO NOT CHANGE.\r\nconst searchers = [\r\n  ExactMatch,\r\n  IncludeMatch,\r\n  PrefixExactMatch,\r\n  InversePrefixExactMatch,\r\n  InverseSuffixExactMatch,\r\n  SuffixExactMatch,\r\n  InverseExactMatch,\r\n  FuzzyMatch\r\n];\r\n\r\nconst searchersLen = searchers.length;\r\n\r\n// Regex to split by spaces, but keep anything in quotes together\r\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\r\nconst OR_TOKEN = '|';\r\n\r\n// Return a 2D array representation of the query, for simpler parsing.\r\n// Example:\r\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\r\nfunction parseQuery(pattern, options = {}) {\r\n  return pattern.split(OR_TOKEN).map((item) => {\r\n    let query = item\r\n      .trim()\r\n      .split(SPACE_RE)\r\n      .filter((item) => item && !!item.trim());\r\n\r\n    let results = [];\r\n    for (let i = 0, len = query.length; i < len; i += 1) {\r\n      const queryItem = query[i];\r\n\r\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\r\n      let found = false;\r\n      let idx = -1;\r\n      while (!found && ++idx < searchersLen) {\r\n        const searcher = searchers[idx];\r\n        let token = searcher.isMultiMatch(queryItem);\r\n        if (token) {\r\n          results.push(new searcher(token, options));\r\n          found = true;\r\n        }\r\n      }\r\n\r\n      if (found) {\r\n        continue\r\n      }\r\n\r\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\r\n      idx = -1;\r\n      while (++idx < searchersLen) {\r\n        const searcher = searchers[idx];\r\n        let token = searcher.isSingleMatch(queryItem);\r\n        if (token) {\r\n          results.push(new searcher(token, options));\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    return results\r\n  })\r\n}\r\n\r\n// These extended matchers can return an array of matches, as opposed\r\n// to a singl match\r\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\r\n\r\n/**\r\n * Command-like searching\r\n * ======================\r\n *\r\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\r\n * search in a given text.\r\n *\r\n * Search syntax:\r\n *\r\n * | Token       | Match type                 | Description                            |\r\n * | ----------- | -------------------------- | -------------------------------------- |\r\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\r\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\r\n * | `'python`   | include-match              | Items that include `python`            |\r\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\r\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\r\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\r\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\r\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\r\n *\r\n * A single pipe character acts as an OR operator. For example, the following\r\n * query matches entries that start with `core` and end with either`go`, `rb`,\r\n * or`py`.\r\n *\r\n * ```\r\n * ^core go$ | rb$ | py$\r\n * ```\r\n */\r\nclass ExtendedSearch {\r\n  constructor(\r\n    pattern,\r\n    {\r\n      isCaseSensitive = Config.isCaseSensitive,\r\n      includeMatches = Config.includeMatches,\r\n      minMatchCharLength = Config.minMatchCharLength,\r\n      ignoreLocation = Config.ignoreLocation,\r\n      findAllMatches = Config.findAllMatches,\r\n      location = Config.location,\r\n      threshold = Config.threshold,\r\n      distance = Config.distance\r\n    } = {}\r\n  ) {\r\n    this.query = null;\r\n    this.options = {\r\n      isCaseSensitive,\r\n      includeMatches,\r\n      minMatchCharLength,\r\n      findAllMatches,\r\n      ignoreLocation,\r\n      location,\r\n      threshold,\r\n      distance\r\n    };\r\n\r\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\r\n    this.query = parseQuery(this.pattern, this.options);\r\n  }\r\n\r\n  static condition(_, options) {\r\n    return options.useExtendedSearch\r\n  }\r\n\r\n  searchIn(text) {\r\n    const query = this.query;\r\n\r\n    if (!query) {\r\n      return {\r\n        isMatch: false,\r\n        score: 1\r\n      }\r\n    }\r\n\r\n    const { includeMatches, isCaseSensitive } = this.options;\r\n\r\n    text = isCaseSensitive ? text : text.toLowerCase();\r\n\r\n    let numMatches = 0;\r\n    let allIndices = [];\r\n    let totalScore = 0;\r\n\r\n    // ORs\r\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\r\n      const searchers = query[i];\r\n\r\n      // Reset indices\r\n      allIndices.length = 0;\r\n      numMatches = 0;\r\n\r\n      // ANDs\r\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\r\n        const searcher = searchers[j];\r\n        const { isMatch, indices, score } = searcher.search(text);\r\n\r\n        if (isMatch) {\r\n          numMatches += 1;\r\n          totalScore += score;\r\n          if (includeMatches) {\r\n            const type = searcher.constructor.type;\r\n            if (MultiMatchSet.has(type)) {\r\n              allIndices = [...allIndices, ...indices];\r\n            } else {\r\n              allIndices.push(indices);\r\n            }\r\n          }\r\n        } else {\r\n          totalScore = 0;\r\n          numMatches = 0;\r\n          allIndices.length = 0;\r\n          break\r\n        }\r\n      }\r\n\r\n      // OR condition, so if TRUE, return\r\n      if (numMatches) {\r\n        let result = {\r\n          isMatch: true,\r\n          score: totalScore / numMatches\r\n        };\r\n\r\n        if (includeMatches) {\r\n          result.indices = allIndices;\r\n        }\r\n\r\n        return result\r\n      }\r\n    }\r\n\r\n    // Nothing was matched\r\n    return {\r\n      isMatch: false,\r\n      score: 1\r\n    }\r\n  }\r\n}\r\n\r\nconst registeredSearchers = [];\r\n\r\nfunction register(...args) {\r\n  registeredSearchers.push(...args);\r\n}\r\n\r\nfunction createSearcher(pattern, options) {\r\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\r\n    let searcherClass = registeredSearchers[i];\r\n    if (searcherClass.condition(pattern, options)) {\r\n      return new searcherClass(pattern, options)\r\n    }\r\n  }\r\n\r\n  return new BitapSearch(pattern, options)\r\n}\r\n\r\nconst LogicalOperator = {\r\n  AND: '$and',\r\n  OR: '$or'\r\n};\r\n\r\nconst KeyType = {\r\n  PATH: '$path',\r\n  PATTERN: '$val'\r\n};\r\n\r\nconst isExpression = (query) =>\r\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\r\n\r\nconst isPath = (query) => !!query[KeyType.PATH];\r\n\r\nconst isLeaf = (query) =>\r\n  !isArray(query) && isObject(query) && !isExpression(query);\r\n\r\nconst convertToExplicit = (query) => ({\r\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\r\n    [key]: query[key]\r\n  }))\r\n});\r\n\r\n// When `auto` is `true`, the parse function will infer and initialize and add\r\n// the appropriate `Searcher` instance\r\nfunction parse(query, options, { auto = true } = {}) {\r\n  const next = (query) => {\r\n    let keys = Object.keys(query);\r\n\r\n    const isQueryPath = isPath(query);\r\n\r\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\r\n      return next(convertToExplicit(query))\r\n    }\r\n\r\n    if (isLeaf(query)) {\r\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\r\n\r\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\r\n\r\n      if (!isString(pattern)) {\r\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\r\n      }\r\n\r\n      const obj = {\r\n        keyId: createKeyId(key),\r\n        pattern\r\n      };\r\n\r\n      if (auto) {\r\n        obj.searcher = createSearcher(pattern, options);\r\n      }\r\n\r\n      return obj\r\n    }\r\n\r\n    let node = {\r\n      children: [],\r\n      operator: keys[0]\r\n    };\r\n\r\n    keys.forEach((key) => {\r\n      const value = query[key];\r\n\r\n      if (isArray(value)) {\r\n        value.forEach((item) => {\r\n          node.children.push(next(item));\r\n        });\r\n      }\r\n    });\r\n\r\n    return node\r\n  };\r\n\r\n  if (!isExpression(query)) {\r\n    query = convertToExplicit(query);\r\n  }\r\n\r\n  return next(query)\r\n}\r\n\r\n// Practical scoring function\r\nfunction computeScore(\r\n  results,\r\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\r\n) {\r\n  results.forEach((result) => {\r\n    let totalScore = 1;\r\n\r\n    result.matches.forEach(({ key, norm, score }) => {\r\n      const weight = key ? key.weight : null;\r\n\r\n      totalScore *= Math.pow(\r\n        score === 0 && weight ? Number.EPSILON : score,\r\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\r\n      );\r\n    });\r\n\r\n    result.score = totalScore;\r\n  });\r\n}\r\n\r\nfunction transformMatches(result, data) {\r\n  const matches = result.matches;\r\n  data.matches = [];\r\n\r\n  if (!isDefined(matches)) {\r\n    return\r\n  }\r\n\r\n  matches.forEach((match) => {\r\n    if (!isDefined(match.indices) || !match.indices.length) {\r\n      return\r\n    }\r\n\r\n    const { indices, value } = match;\r\n\r\n    let obj = {\r\n      indices,\r\n      value\r\n    };\r\n\r\n    if (match.key) {\r\n      obj.key = match.key.src;\r\n    }\r\n\r\n    if (match.idx > -1) {\r\n      obj.refIndex = match.idx;\r\n    }\r\n\r\n    data.matches.push(obj);\r\n  });\r\n}\r\n\r\nfunction transformScore(result, data) {\r\n  data.score = result.score;\r\n}\r\n\r\nfunction format(\r\n  results,\r\n  docs,\r\n  {\r\n    includeMatches = Config.includeMatches,\r\n    includeScore = Config.includeScore\r\n  } = {}\r\n) {\r\n  const transformers = [];\r\n\r\n  if (includeMatches) transformers.push(transformMatches);\r\n  if (includeScore) transformers.push(transformScore);\r\n\r\n  return results.map((result) => {\r\n    const { idx } = result;\r\n\r\n    const data = {\r\n      item: docs[idx],\r\n      refIndex: idx\r\n    };\r\n\r\n    if (transformers.length) {\r\n      transformers.forEach((transformer) => {\r\n        transformer(result, data);\r\n      });\r\n    }\r\n\r\n    return data\r\n  })\r\n}\r\n\r\nclass Fuse {\r\n  constructor(docs, options = {}, index) {\r\n    this.options = { ...Config, ...options };\r\n\r\n    if (\r\n      this.options.useExtendedSearch &&\r\n      !true\r\n    ) {\r\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\r\n    }\r\n\r\n    this._keyStore = new KeyStore(this.options.keys);\r\n\r\n    this.setCollection(docs, index);\r\n  }\r\n\r\n  setCollection(docs, index) {\r\n    this._docs = docs;\r\n\r\n    if (index && !(index instanceof FuseIndex)) {\r\n      throw new Error(INCORRECT_INDEX_TYPE)\r\n    }\r\n\r\n    this._myIndex =\r\n      index ||\r\n      createIndex(this.options.keys, this._docs, {\r\n        getFn: this.options.getFn,\r\n        fieldNormWeight: this.options.fieldNormWeight\r\n      });\r\n  }\r\n\r\n  add(doc) {\r\n    if (!isDefined(doc)) {\r\n      return\r\n    }\r\n\r\n    this._docs.push(doc);\r\n    this._myIndex.add(doc);\r\n  }\r\n\r\n  remove(predicate = (/* doc, idx */) => false) {\r\n    const results = [];\r\n\r\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\r\n      const doc = this._docs[i];\r\n      if (predicate(doc, i)) {\r\n        this.removeAt(i);\r\n        i -= 1;\r\n        len -= 1;\r\n\r\n        results.push(doc);\r\n      }\r\n    }\r\n\r\n    return results\r\n  }\r\n\r\n  removeAt(idx) {\r\n    this._docs.splice(idx, 1);\r\n    this._myIndex.removeAt(idx);\r\n  }\r\n\r\n  getIndex() {\r\n    return this._myIndex\r\n  }\r\n\r\n  search(query, { limit = -1 } = {}) {\r\n    const {\r\n      includeMatches,\r\n      includeScore,\r\n      shouldSort,\r\n      sortFn,\r\n      ignoreFieldNorm\r\n    } = this.options;\r\n\r\n    let results = isString(query)\r\n      ? isString(this._docs[0])\r\n        ? this._searchStringList(query)\r\n        : this._searchObjectList(query)\r\n      : this._searchLogical(query);\r\n\r\n    computeScore(results, { ignoreFieldNorm });\r\n\r\n    if (shouldSort) {\r\n      results.sort(sortFn);\r\n    }\r\n\r\n    if (isNumber(limit) && limit > -1) {\r\n      results = results.slice(0, limit);\r\n    }\r\n\r\n    return format(results, this._docs, {\r\n      includeMatches,\r\n      includeScore\r\n    })\r\n  }\r\n\r\n  _searchStringList(query) {\r\n    const searcher = createSearcher(query, this.options);\r\n    const { records } = this._myIndex;\r\n    const results = [];\r\n\r\n    // Iterate over every string in the index\r\n    records.forEach(({ v: text, i: idx, n: norm }) => {\r\n      if (!isDefined(text)) {\r\n        return\r\n      }\r\n\r\n      const { isMatch, score, indices } = searcher.searchIn(text);\r\n\r\n      if (isMatch) {\r\n        results.push({\r\n          item: text,\r\n          idx,\r\n          matches: [{ score, value: text, norm, indices }]\r\n        });\r\n      }\r\n    });\r\n\r\n    return results\r\n  }\r\n\r\n  _searchLogical(query) {\r\n\r\n    const expression = parse(query, this.options);\r\n\r\n    const evaluate = (node, item, idx) => {\r\n      if (!node.children) {\r\n        const { keyId, searcher } = node;\r\n\r\n        const matches = this._findMatches({\r\n          key: this._keyStore.get(keyId),\r\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\r\n          searcher\r\n        });\r\n\r\n        if (matches && matches.length) {\r\n          return [\r\n            {\r\n              idx,\r\n              item,\r\n              matches\r\n            }\r\n          ]\r\n        }\r\n\r\n        return []\r\n      }\r\n\r\n      const res = [];\r\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\r\n        const child = node.children[i];\r\n        const result = evaluate(child, item, idx);\r\n        if (result.length) {\r\n          res.push(...result);\r\n        } else if (node.operator === LogicalOperator.AND) {\r\n          return []\r\n        }\r\n      }\r\n      return res\r\n    };\r\n\r\n    const records = this._myIndex.records;\r\n    const resultMap = {};\r\n    const results = [];\r\n\r\n    records.forEach(({ $: item, i: idx }) => {\r\n      if (isDefined(item)) {\r\n        let expResults = evaluate(expression, item, idx);\r\n\r\n        if (expResults.length) {\r\n          // Dedupe when adding\r\n          if (!resultMap[idx]) {\r\n            resultMap[idx] = { idx, item, matches: [] };\r\n            results.push(resultMap[idx]);\r\n          }\r\n          expResults.forEach(({ matches }) => {\r\n            resultMap[idx].matches.push(...matches);\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    return results\r\n  }\r\n\r\n  _searchObjectList(query) {\r\n    const searcher = createSearcher(query, this.options);\r\n    const { keys, records } = this._myIndex;\r\n    const results = [];\r\n\r\n    // List is Array<Object>\r\n    records.forEach(({ $: item, i: idx }) => {\r\n      if (!isDefined(item)) {\r\n        return\r\n      }\r\n\r\n      let matches = [];\r\n\r\n      // Iterate over every key (i.e, path), and fetch the value at that key\r\n      keys.forEach((key, keyIndex) => {\r\n        matches.push(\r\n          ...this._findMatches({\r\n            key,\r\n            value: item[keyIndex],\r\n            searcher\r\n          })\r\n        );\r\n      });\r\n\r\n      if (matches.length) {\r\n        results.push({\r\n          idx,\r\n          item,\r\n          matches\r\n        });\r\n      }\r\n    });\r\n\r\n    return results\r\n  }\r\n  _findMatches({ key, value, searcher }) {\r\n    if (!isDefined(value)) {\r\n      return []\r\n    }\r\n\r\n    let matches = [];\r\n\r\n    if (isArray(value)) {\r\n      value.forEach(({ v: text, i: idx, n: norm }) => {\r\n        if (!isDefined(text)) {\r\n          return\r\n        }\r\n\r\n        const { isMatch, score, indices } = searcher.searchIn(text);\r\n\r\n        if (isMatch) {\r\n          matches.push({\r\n            score,\r\n            key,\r\n            value: text,\r\n            idx,\r\n            norm,\r\n            indices\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      const { v: text, n: norm } = value;\r\n\r\n      const { isMatch, score, indices } = searcher.searchIn(text);\r\n\r\n      if (isMatch) {\r\n        matches.push({ score, key, value: text, norm, indices });\r\n      }\r\n    }\r\n\r\n    return matches\r\n  }\r\n}\r\n\r\nFuse.version = '6.6.2';\r\nFuse.createIndex = createIndex;\r\nFuse.parseIndex = parseIndex;\r\nFuse.config = Config;\r\n\r\n{\r\n  Fuse.parseQuery = parse;\r\n}\r\n\r\n{\r\n  register(ExtendedSearch);\r\n}\r\n\r\nexport { Fuse as default };\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useDeepMatches = exports.useMatches = exports.NO_GROUP = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar useKBar_1 = require(\"./useKBar\");\r\nvar utils_1 = require(\"./utils\");\r\nvar fuse_js_1 = __importDefault(require(\"fuse.js\"));\r\nexports.NO_GROUP = {\r\n    name: \"none\",\r\n    priority: utils_1.Priority.NORMAL,\r\n};\r\nvar fuseOptions = {\r\n    keys: [\r\n        {\r\n            name: \"name\",\r\n            weight: 0.5,\r\n        },\r\n        {\r\n            name: \"keywords\",\r\n            getFn: function (item) { var _a; return ((_a = item.keywords) !== null && _a !== void 0 ? _a : \"\").split(\",\"); },\r\n            weight: 0.5,\r\n        },\r\n        \"subtitle\",\r\n    ],\r\n    ignoreLocation: true,\r\n    includeScore: true,\r\n    includeMatches: true,\r\n    threshold: 0.2,\r\n    minMatchCharLength: 1,\r\n};\r\nfunction order(a, b) {\r\n    /**\r\n     * Larger the priority = higher up the list\r\n     */\r\n    return b.priority - a.priority;\r\n}\r\n/**\r\n * returns deep matches only when a search query is present\r\n */\r\nfunction useMatches() {\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        search: state.searchQuery,\r\n        actions: state.actions,\r\n        rootActionId: state.currentRootActionId,\r\n    }); }), search = _a.search, actions = _a.actions, rootActionId = _a.rootActionId;\r\n    var rootResults = React.useMemo(function () {\r\n        return Object.keys(actions)\r\n            .reduce(function (acc, actionId) {\r\n            var action = actions[actionId];\r\n            if (!action.parent && !rootActionId) {\r\n                acc.push(action);\r\n            }\r\n            if (action.id === rootActionId) {\r\n                for (var i = 0; i < action.children.length; i++) {\r\n                    acc.push(action.children[i]);\r\n                }\r\n            }\r\n            return acc;\r\n        }, [])\r\n            .sort(order);\r\n    }, [actions, rootActionId]);\r\n    var getDeepResults = React.useCallback(function (actions) {\r\n        var actionsClone = [];\r\n        for (var i = 0; i < actions.length; i++) {\r\n            actionsClone.push(actions[i]);\r\n        }\r\n        return (function collectChildren(actions, all) {\r\n            if (all === void 0) { all = actionsClone; }\r\n            for (var i = 0; i < actions.length; i++) {\r\n                if (actions[i].children.length > 0) {\r\n                    var childsChildren = actions[i].children;\r\n                    for (var i_1 = 0; i_1 < childsChildren.length; i_1++) {\r\n                        all.push(childsChildren[i_1]);\r\n                    }\r\n                    collectChildren(actions[i].children, all);\r\n                }\r\n            }\r\n            return all;\r\n        })(actions);\r\n    }, []);\r\n    var emptySearch = !search;\r\n    var filtered = React.useMemo(function () {\r\n        if (emptySearch)\r\n            return rootResults;\r\n        return getDeepResults(rootResults);\r\n    }, [getDeepResults, rootResults, emptySearch]);\r\n    var fuse = React.useMemo(function () { return new fuse_js_1.default(filtered, fuseOptions); }, [filtered]);\r\n    var matches = useInternalMatches(filtered, search, fuse);\r\n    var results = React.useMemo(function () {\r\n        var _a, _b;\r\n        /**\r\n         * Store a reference to a section and it's list of actions.\r\n         * Alongside these actions, we'll keep a temporary record of the\r\n         * final priority calculated by taking the commandScore + the\r\n         * explicitly set `action.priority` value.\r\n         */\r\n        var map = {};\r\n        /**\r\n         * Store another reference to a list of sections alongside\r\n         * the section's final priority, calculated the same as above.\r\n         */\r\n        var list = [];\r\n        /**\r\n         * We'll take the list above and sort by its priority. Then we'll\r\n         * collect all actions from the map above for this specific name and\r\n         * sort by its priority as well.\r\n         */\r\n        var ordered = [];\r\n        for (var i = 0; i < matches.length; i++) {\r\n            var match = matches[i];\r\n            var action = match.action;\r\n            var score = match.score || utils_1.Priority.NORMAL;\r\n            var section = {\r\n                name: typeof action.section === \"string\"\r\n                    ? action.section\r\n                    : ((_a = action.section) === null || _a === void 0 ? void 0 : _a.name) || exports.NO_GROUP.name,\r\n                priority: typeof action.section === \"string\"\r\n                    ? score\r\n                    : ((_b = action.section) === null || _b === void 0 ? void 0 : _b.priority) || 0 + score,\r\n            };\r\n            if (!map[section.name]) {\r\n                map[section.name] = [];\r\n                list.push(section);\r\n            }\r\n            map[section.name].push({\r\n                priority: action.priority + score,\r\n                action: action,\r\n            });\r\n        }\r\n        ordered = list.sort(order).map(function (group) { return ({\r\n            name: group.name,\r\n            actions: map[group.name].sort(order).map(function (item) { return item.action; }),\r\n        }); });\r\n        /**\r\n         * Our final result is simply flattening the ordered list into\r\n         * our familiar (ActionImpl | string)[] shape.\r\n         */\r\n        var results = [];\r\n        for (var i = 0; i < ordered.length; i++) {\r\n            var group = ordered[i];\r\n            if (group.name !== exports.NO_GROUP.name)\r\n                results.push(group.name);\r\n            for (var i_2 = 0; i_2 < group.actions.length; i_2++) {\r\n                results.push(group.actions[i_2]);\r\n            }\r\n        }\r\n        return results;\r\n    }, [matches]);\r\n    // ensure that users have an accurate `currentRootActionId`\r\n    // that syncs with the throttled return value.\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    var memoRootActionId = React.useMemo(function () { return rootActionId; }, [results]);\r\n    return React.useMemo(function () { return ({\r\n        results: results,\r\n        rootActionId: memoRootActionId,\r\n    }); }, [memoRootActionId, results]);\r\n}\r\nexports.useMatches = useMatches;\r\nfunction useInternalMatches(filtered, search, fuse) {\r\n    var value = React.useMemo(function () { return ({\r\n        filtered: filtered,\r\n        search: search,\r\n    }); }, [filtered, search]);\r\n    var _a = (0, utils_1.useThrottledValue)(value), throttledFiltered = _a.filtered, throttledSearch = _a.search;\r\n    return React.useMemo(function () {\r\n        if (throttledSearch.trim() === \"\") {\r\n            return throttledFiltered.map(function (action) { return ({ score: 0, action: action }); });\r\n        }\r\n        var matches = [];\r\n        // Use Fuse's `search` method to perform the search efficiently\r\n        var searchResults = fuse.search(throttledSearch);\r\n        // Format the search results to match the existing structure\r\n        matches = searchResults.map(function (_a) {\r\n            var action = _a.item, score = _a.score;\r\n            return ({\r\n                score: 1 / ((score !== null && score !== void 0 ? score : 0) + 1),\r\n                action: action,\r\n            });\r\n        });\r\n        return matches;\r\n    }, [throttledFiltered, throttledSearch, fuse]);\r\n}\r\n/**\r\n * @deprecated use useMatches\r\n */\r\nexports.useDeepMatches = useMatches;\r\n", "export { composeRefs, useComposedRefs } from './composeRefs';\n", "import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    return ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    ref.current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  return (node) => {\n    let hasCleanup = false;\n    const cleanups = refs.map((ref) => {\n      const cleanup = setRef(ref, node);\n      if (!hasCleanup && typeof cleanup == 'function') {\n        hasCleanup = true;\n      }\n      return cleanup;\n    });\n\n    // React <19 will log an error to the console if a callback ref returns a\n    // value. We don't use ref cleanups internally so this will only happen if a\n    // user's ref callback returns a value, which we only expect if they are\n    // using the cleanup functionality added in React 19.\n    if (hasCleanup) {\n      return () => {\n        for (let i = 0; i < cleanups.length; i++) {\n          const cleanup = cleanups[i];\n          if (typeof cleanup == 'function') {\n            cleanup();\n          } else {\n            setRef(refs[i], null);\n          }\n        }\n      };\n    }\n  };\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]): React.RefCallback<T> {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n", "export {\n  Slot,\n  Slottable,\n  //\n  Root,\n} from './slot';\nexport type { SlotProps } from './slot';\n", "import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props as { children: React.ReactNode }).children\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    const childrenRef = getElementRef(children);\n    const props = mergeProps(slotProps, children.props as AnyProps);\n    // do not pass ref to React.Fragment for React 19 compatibility\n    if (children.type !== React.Fragment) {\n      props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n    }\n    return React.cloneElement(children, props);\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode\n): child is React.ReactElement<React.ComponentProps<typeof Slottable>, typeof Slottable> {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n", "export {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n} from './primitive';\nexport type { PrimitivePropsWithRef } from './primitive';\n", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'form',\n  'h2',\n  'h3',\n  'img',\n  'input',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\ntype Primitives = { [E in (typeof NODES)[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    if (typeof window !== 'undefined') {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not necessary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click \uD83D\uDC4E\n * target.dispatchEvent(new Event(\u2018click\u2019))\n *\n * dispatching a custom type within a non-discrete event \uD83D\uDC4E\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(\u2018customType\u2019))}\n *\n * dispatching a custom type within a `discrete` event \uD83D\uDC4D\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(\u2018customType\u2019))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { PrimitivePropsWithRef };\n", "export { useLayoutEffect } from './useLayoutEffect';\n", "import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n", "'use client';\nexport {\n  Portal,\n  //\n  Root,\n} from './portal';\nexport type { PortalProps } from './portal';\n", "import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n/* -------------------------------------------------------------------------------------------------\n * Portal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'Portal';\n\ntype PortalElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface PortalProps extends PrimitiveDivProps {\n  /**\n   * An optional container where the portaled content should be appended.\n   */\n  container?: Element | DocumentFragment | null;\n}\n\nconst Portal = React.forwardRef<PortalElement, PortalProps>((props, forwardedRef) => {\n  const { container: containerProp, ...portalProps } = props;\n  const [mounted, setMounted] = React.useState(false);\n  useLayoutEffect(() => setMounted(true), []);\n  const container = containerProp || (mounted && globalThis?.document?.body);\n  return container\n    ? ReactDOM.createPortal(<Primitive.div {...portalProps} ref={forwardedRef} />, container)\n    : null;\n});\n\nPortal.displayName = PORTAL_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Portal;\n\nexport {\n  Portal,\n  //\n  Root,\n};\nexport type { PortalProps };\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarPortal = void 0;\r\nvar react_portal_1 = require(\"@radix-ui/react-portal\");\r\nvar React = __importStar(require(\"react\"));\r\nvar types_1 = require(\"./types\");\r\nvar useKBar_1 = require(\"./useKBar\");\r\nfunction KBarPortal(_a) {\r\n    var children = _a.children, container = _a.container;\r\n    var showing = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        showing: state.visualState !== types_1.VisualState.hidden,\r\n    }); }).showing;\r\n    if (!showing) {\r\n        return null;\r\n    }\r\n    return React.createElement(react_portal_1.Portal, { container: container }, children);\r\n}\r\nexports.KBarPortal = KBarPortal;\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarPositioner = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar defaultStyle = {\r\n    position: \"fixed\",\r\n    display: \"flex\",\r\n    alignItems: \"flex-start\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n    inset: \"0px\",\r\n    padding: \"14vh 16px 16px\",\r\n};\r\nfunction getStyle(style) {\r\n    return style ? __assign(__assign({}, defaultStyle), style) : defaultStyle;\r\n}\r\nexports.KBarPositioner = React.forwardRef(function (_a, ref) {\r\n    var style = _a.style, children = _a.children, props = __rest(_a, [\"style\", \"children\"]);\r\n    return (React.createElement(\"div\", __assign({ ref: ref, style: getStyle(style) }, props), children));\r\n});\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarSearch = exports.getListboxItemId = exports.KBAR_LISTBOX = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar types_1 = require(\"./types\");\r\nvar useKBar_1 = require(\"./useKBar\");\r\nexports.KBAR_LISTBOX = \"kbar-listbox\";\r\nvar getListboxItemId = function (id) { return \"kbar-listbox-item-\" + id; };\r\nexports.getListboxItemId = getListboxItemId;\r\nfunction KBarSearch(props) {\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        search: state.searchQuery,\r\n        currentRootActionId: state.currentRootActionId,\r\n        actions: state.actions,\r\n        activeIndex: state.activeIndex,\r\n        showing: state.visualState === types_1.VisualState.showing,\r\n    }); }), query = _a.query, search = _a.search, actions = _a.actions, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, showing = _a.showing, options = _a.options;\r\n    var _b = React.useState(search), inputValue = _b[0], setInputValue = _b[1];\r\n    React.useEffect(function () {\r\n        query.setSearch(inputValue);\r\n    }, [inputValue, query]);\r\n    var defaultPlaceholder = props.defaultPlaceholder, rest = __rest(props, [\"defaultPlaceholder\"]);\r\n    React.useEffect(function () {\r\n        query.setSearch(\"\");\r\n        query.getInput().focus();\r\n        return function () { return query.setSearch(\"\"); };\r\n    }, [currentRootActionId, query]);\r\n    var placeholder = React.useMemo(function () {\r\n        var defaultText = defaultPlaceholder !== null && defaultPlaceholder !== void 0 ? defaultPlaceholder : \"Type a command or search\";\r\n        return currentRootActionId && actions[currentRootActionId]\r\n            ? actions[currentRootActionId].name\r\n            : defaultText;\r\n    }, [actions, currentRootActionId, defaultPlaceholder]);\r\n    return (React.createElement(\"input\", __assign({}, rest, { ref: query.inputRefSetter, autoFocus: true, autoComplete: \"off\", role: \"combobox\", spellCheck: \"false\", \"aria-expanded\": showing, \"aria-controls\": exports.KBAR_LISTBOX, \"aria-activedescendant\": (0, exports.getListboxItemId)(activeIndex), value: inputValue, placeholder: placeholder, onChange: function (event) {\r\n            var _a, _b, _c;\r\n            (_a = props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, event);\r\n            setInputValue(event.target.value);\r\n            (_c = (_b = options === null || options === void 0 ? void 0 : options.callbacks) === null || _b === void 0 ? void 0 : _b.onQueryChange) === null || _c === void 0 ? void 0 : _c.call(_b, event.target.value);\r\n        }, onKeyDown: function (event) {\r\n            var _a;\r\n            (_a = props.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(props, event);\r\n            if (currentRootActionId && !search && event.key === \"Backspace\") {\r\n                var parent_1 = actions[currentRootActionId].parent;\r\n                query.setCurrentRootAction(parent_1);\r\n            }\r\n        } })));\r\n}\r\nexports.KBarSearch = KBarSearch;\r\n", "var props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes =\n/*#__PURE__*/\nnew Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nexport default observeRect;\n//# sourceMappingURL=observe-rect.esm.js.map\n", "import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n", "import React from 'react'\nimport observeRect from '@reach/observe-rect'\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function useRect(\n  nodeRef,\n  initialRect = { width: 0, height: 0 }\n) {\n  const [element, setElement] = React.useState(nodeRef.current)\n  const [rect, dispatch] = React.useReducer(rectReducer, initialRect)\n  const initialRectSet = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current)\n    }\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true\n      const rect = element.getBoundingClientRect()\n      dispatch({ rect })\n    }\n  }, [element])\n\n  React.useEffect(() => {\n    if (!element) {\n      return\n    }\n\n    const observer = observeRect(element, rect => {\n      dispatch({ rect })\n    })\n\n    observer.observe()\n\n    return () => {\n      observer.unobserve()\n    }\n  }, [element])\n\n  return rect\n}\n\nfunction rectReducer(state, action) {\n  const rect = action.rect\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect\n  }\n  return state\n}\n", "import React from 'react'\nimport useRect from './useRect'\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nconst defaultEstimateSize = () => 50\n\nconst defaultKeyExtractor = index => index\n\nconst defaultMeasureSize = (el, horizontal) => {\n  const key = horizontal ? 'offsetWidth' : 'offsetHeight'\n\n  return el[key]\n}\n\nexport const defaultRangeExtractor = range => {\n  const start = Math.max(range.start - range.overscan, 0)\n  const end = Math.min(range.end + range.overscan, range.size - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport function useVirtual({\n  size = 0,\n  estimateSize = defaultEstimateSize,\n  overscan = 1,\n  paddingStart = 0,\n  paddingEnd = 0,\n  parentRef,\n  horizontal,\n  scrollToFn,\n  useObserver,\n  initialRect,\n  onScrollElement,\n  scrollOffsetFn,\n  keyExtractor = defaultKeyExtractor,\n  measureSize = defaultMeasureSize,\n  rangeExtractor = defaultRangeExtractor,\n}) {\n  const sizeKey = horizontal ? 'width' : 'height'\n  const scrollKey = horizontal ? 'scrollLeft' : 'scrollTop'\n\n  const latestRef = React.useRef({\n    scrollOffset: 0,\n    measurements: [],\n  })\n\n  const [scrollOffset, setScrollOffset] = React.useState(0)\n  latestRef.current.scrollOffset = scrollOffset\n\n  const useMeasureParent = useObserver || useRect\n\n  const { [sizeKey]: outerSize } = useMeasureParent(parentRef, initialRect)\n\n  latestRef.current.outerSize = outerSize\n\n  const defaultScrollToFn = React.useCallback(\n    offset => {\n      if (parentRef.current) {\n        parentRef.current[scrollKey] = offset\n      }\n    },\n    [parentRef, scrollKey]\n  )\n\n  const resolvedScrollToFn = scrollToFn || defaultScrollToFn\n\n  scrollToFn = React.useCallback(\n    offset => {\n      resolvedScrollToFn(offset, defaultScrollToFn)\n    },\n    [defaultScrollToFn, resolvedScrollToFn]\n  )\n\n  const [measuredCache, setMeasuredCache] = React.useState({})\n\n  const measure = React.useCallback(() => setMeasuredCache({}), [])\n\n  const pendingMeasuredCacheIndexesRef = React.useRef([])\n\n  const measurements = React.useMemo(() => {\n    const min =\n      pendingMeasuredCacheIndexesRef.current.length > 0\n        ? Math.min(...pendingMeasuredCacheIndexesRef.current)\n        : 0\n    pendingMeasuredCacheIndexesRef.current = []\n\n    const measurements = latestRef.current.measurements.slice(0, min)\n\n    for (let i = min; i < size; i++) {\n      const key = keyExtractor(i)\n      const measuredSize = measuredCache[key]\n      const start = measurements[i - 1] ? measurements[i - 1].end : paddingStart\n      const size =\n        typeof measuredSize === 'number' ? measuredSize : estimateSize(i)\n      const end = start + size\n      measurements[i] = { index: i, start, size, end, key }\n    }\n    return measurements\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor])\n\n  const totalSize = (measurements[size - 1]?.end || paddingStart) + paddingEnd\n\n  latestRef.current.measurements = measurements\n  latestRef.current.totalSize = totalSize\n\n  const element = onScrollElement ? onScrollElement.current : parentRef.current\n\n  const scrollOffsetFnRef = React.useRef(scrollOffsetFn)\n  scrollOffsetFnRef.current = scrollOffsetFn\n\n  useIsomorphicLayoutEffect(() => {\n    if (!element) {\n      setScrollOffset(0)\n\n      return\n    }\n\n    const onScroll = event => {\n      const offset = scrollOffsetFnRef.current\n        ? scrollOffsetFnRef.current(event)\n        : element[scrollKey]\n\n      setScrollOffset(offset)\n    }\n\n    onScroll()\n\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true,\n    })\n\n    return () => {\n      element.removeEventListener('scroll', onScroll)\n    }\n  }, [element, scrollKey])\n\n  const { start, end } = calculateRange(latestRef.current)\n\n  const indexes = React.useMemo(\n    () =>\n      rangeExtractor({\n        start,\n        end,\n        overscan,\n        size: measurements.length,\n      }),\n    [start, end, overscan, measurements.length, rangeExtractor]\n  )\n\n  const measureSizeRef = React.useRef(measureSize)\n  measureSizeRef.current = measureSize\n\n  const virtualItems = React.useMemo(() => {\n    const virtualItems = []\n\n    for (let k = 0, len = indexes.length; k < len; k++) {\n      const i = indexes[k]\n      const measurement = measurements[i]\n\n      const item = {\n        ...measurement,\n        measureRef: el => {\n          if (el) {\n            const measuredSize = measureSizeRef.current(el, horizontal)\n\n            if (measuredSize !== item.size) {\n              const { scrollOffset } = latestRef.current\n\n              if (item.start < scrollOffset) {\n                defaultScrollToFn(scrollOffset + (measuredSize - item.size))\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i)\n\n              setMeasuredCache(old => ({\n                ...old,\n                [item.key]: measuredSize,\n              }))\n            }\n          }\n        },\n      }\n\n      virtualItems.push(item)\n    }\n\n    return virtualItems\n  }, [indexes, defaultScrollToFn, horizontal, measurements])\n\n  const mountedRef = React.useRef(false)\n\n  useIsomorphicLayoutEffect(() => {\n    if (mountedRef.current) {\n      setMeasuredCache({})\n    }\n    mountedRef.current = true\n  }, [estimateSize])\n\n  const scrollToOffset = React.useCallback(\n    (toOffset, { align = 'start' } = {}) => {\n      const { scrollOffset, outerSize } = latestRef.current\n\n      if (align === 'auto') {\n        if (toOffset <= scrollOffset) {\n          align = 'start'\n        } else if (toOffset >= scrollOffset + outerSize) {\n          align = 'end'\n        } else {\n          align = 'start'\n        }\n      }\n\n      if (align === 'start') {\n        scrollToFn(toOffset)\n      } else if (align === 'end') {\n        scrollToFn(toOffset - outerSize)\n      } else if (align === 'center') {\n        scrollToFn(toOffset - outerSize / 2)\n      }\n    },\n    [scrollToFn]\n  )\n\n  const tryScrollToIndex = React.useCallback(\n    (index, { align = 'auto', ...rest } = {}) => {\n      const { measurements, scrollOffset, outerSize } = latestRef.current\n\n      const measurement = measurements[Math.max(0, Math.min(index, size - 1))]\n\n      if (!measurement) {\n        return\n      }\n\n      if (align === 'auto') {\n        if (measurement.end >= scrollOffset + outerSize) {\n          align = 'end'\n        } else if (measurement.start <= scrollOffset) {\n          align = 'start'\n        } else {\n          return\n        }\n      }\n\n      const toOffset =\n        align === 'center'\n          ? measurement.start + measurement.size / 2\n          : align === 'end'\n          ? measurement.end\n          : measurement.start\n\n      scrollToOffset(toOffset, { align, ...rest })\n    },\n    [scrollToOffset, size]\n  )\n\n  const scrollToIndex = React.useCallback(\n    (...args) => {\n      // We do a double request here because of\n      // dynamic sizes which can cause offset shift\n      // and end up in the wrong spot. Unfortunately,\n      // we can't know about those dynamic sizes until\n      // we try and render them. So double down!\n      tryScrollToIndex(...args)\n      requestAnimationFrame(() => {\n        tryScrollToIndex(...args)\n      })\n    },\n    [tryScrollToIndex]\n  )\n\n  return {\n    virtualItems,\n    totalSize,\n    scrollToOffset,\n    scrollToIndex,\n    measure,\n  }\n}\n\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    let middle = ((low + high) / 2) | 0\n    let currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({ measurements, outerSize, scrollOffset }) {\n  const size = measurements.length - 1\n  const getOffset = index => measurements[index].start\n\n  let start = findNearestBinarySearch(0, size, getOffset, scrollOffset)\n  let end = start\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++\n  }\n\n  return { start, end }\n}\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarResults = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar react_virtual_1 = require(\"react-virtual\");\r\nvar KBarSearch_1 = require(\"./KBarSearch\");\r\nvar useKBar_1 = require(\"./useKBar\");\r\nvar utils_1 = require(\"./utils\");\r\nvar START_INDEX = 0;\r\nvar KBarResults = function (props) {\r\n    var activeRef = React.useRef(null);\r\n    var parentRef = React.useRef(null);\r\n    // store a ref to all items so we do not have to pass\r\n    // them as a dependency when setting up event listeners.\r\n    var itemsRef = React.useRef(props.items);\r\n    itemsRef.current = props.items;\r\n    var rowVirtualizer = (0, react_virtual_1.useVirtual)({\r\n        size: itemsRef.current.length,\r\n        parentRef: parentRef,\r\n    });\r\n    var _a = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        search: state.searchQuery,\r\n        currentRootActionId: state.currentRootActionId,\r\n        activeIndex: state.activeIndex,\r\n    }); }), query = _a.query, search = _a.search, currentRootActionId = _a.currentRootActionId, activeIndex = _a.activeIndex, options = _a.options;\r\n    React.useEffect(function () {\r\n        var handler = function (event) {\r\n            var _a;\r\n            if (event.isComposing) {\r\n                return;\r\n            }\r\n            if (event.key === \"ArrowUp\" || (event.ctrlKey && event.key === \"p\")) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                query.setActiveIndex(function (index) {\r\n                    var nextIndex = index > START_INDEX ? index - 1 : index;\r\n                    // avoid setting active index on a group\r\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\r\n                        if (nextIndex === 0)\r\n                            return index;\r\n                        nextIndex -= 1;\r\n                    }\r\n                    return nextIndex;\r\n                });\r\n            }\r\n            else if (event.key === \"ArrowDown\" ||\r\n                (event.ctrlKey && event.key === \"n\")) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                query.setActiveIndex(function (index) {\r\n                    var nextIndex = index < itemsRef.current.length - 1 ? index + 1 : index;\r\n                    // avoid setting active index on a group\r\n                    if (typeof itemsRef.current[nextIndex] === \"string\") {\r\n                        if (nextIndex === itemsRef.current.length - 1)\r\n                            return index;\r\n                        nextIndex += 1;\r\n                    }\r\n                    return nextIndex;\r\n                });\r\n            }\r\n            else if (event.key === \"Enter\") {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                // storing the active dom element in a ref prevents us from\r\n                // having to calculate the current action to perform based\r\n                // on the `activeIndex`, which we would have needed to add\r\n                // as part of the dependencies array.\r\n                (_a = activeRef.current) === null || _a === void 0 ? void 0 : _a.click();\r\n            }\r\n        };\r\n        window.addEventListener(\"keydown\", handler, { capture: true });\r\n        return function () { return window.removeEventListener(\"keydown\", handler, { capture: true }); };\r\n    }, [query]);\r\n    // destructuring here to prevent linter warning to pass\r\n    // entire rowVirtualizer in the dependencies array.\r\n    var scrollToIndex = rowVirtualizer.scrollToIndex;\r\n    React.useEffect(function () {\r\n        scrollToIndex(activeIndex, {\r\n            // ensure that if the first item in the list is a group\r\n            // name and we are focused on the second item, to not\r\n            // scroll past that group, hiding it.\r\n            align: activeIndex <= 1 ? \"end\" : \"auto\",\r\n        });\r\n    }, [activeIndex, scrollToIndex]);\r\n    React.useEffect(function () {\r\n        // TODO(tim): fix scenario where async actions load in\r\n        // and active index is reset to the first item. i.e. when\r\n        // users register actions and bust the `useRegisterActions`\r\n        // cache, we won't want to reset their active index as they\r\n        // are navigating the list.\r\n        query.setActiveIndex(\r\n        // avoid setting active index on a group\r\n        typeof props.items[START_INDEX] === \"string\"\r\n            ? START_INDEX + 1\r\n            : START_INDEX);\r\n    }, [search, currentRootActionId, props.items, query]);\r\n    var execute = React.useCallback(function (item) {\r\n        var _a, _b;\r\n        if (typeof item === \"string\")\r\n            return;\r\n        if (item.command) {\r\n            item.command.perform(item);\r\n            query.toggle();\r\n        }\r\n        else {\r\n            query.setSearch(\"\");\r\n            query.setCurrentRootAction(item.id);\r\n        }\r\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onSelectAction) === null || _b === void 0 ? void 0 : _b.call(_a, item);\r\n    }, [query, options]);\r\n    var pointerMoved = (0, utils_1.usePointerMovedSinceMount)();\r\n    return (React.createElement(\"div\", { ref: parentRef, style: {\r\n            maxHeight: props.maxHeight || 400,\r\n            position: \"relative\",\r\n            overflow: \"auto\",\r\n        } },\r\n        React.createElement(\"div\", { role: \"listbox\", id: KBarSearch_1.KBAR_LISTBOX, style: {\r\n                height: rowVirtualizer.totalSize + \"px\",\r\n                width: \"100%\",\r\n            } }, rowVirtualizer.virtualItems.map(function (virtualRow) {\r\n            var item = itemsRef.current[virtualRow.index];\r\n            var handlers = typeof item !== \"string\" && {\r\n                onPointerMove: function () {\r\n                    return pointerMoved &&\r\n                        activeIndex !== virtualRow.index &&\r\n                        query.setActiveIndex(virtualRow.index);\r\n                },\r\n                onPointerDown: function () { return query.setActiveIndex(virtualRow.index); },\r\n                onClick: function () { return execute(item); },\r\n            };\r\n            var active = virtualRow.index === activeIndex;\r\n            return (React.createElement(\"div\", __assign({ ref: active ? activeRef : null, id: (0, KBarSearch_1.getListboxItemId)(virtualRow.index), role: \"option\", \"aria-selected\": active, key: virtualRow.index, style: {\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    transform: \"translateY(\" + virtualRow.start + \"px)\",\r\n                } }, handlers), React.cloneElement(props.onRender({\r\n                item: item,\r\n                active: active,\r\n            }), {\r\n                ref: virtualRow.measureRef,\r\n            })));\r\n        }))));\r\n};\r\nexports.KBarResults = KBarResults;\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.useRegisterActions = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar useKBar_1 = require(\"./useKBar\");\r\nfunction useRegisterActions(actions, dependencies) {\r\n    if (dependencies === void 0) { dependencies = []; }\r\n    var query = (0, useKBar_1.useKBar)().query;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    var actionsCache = React.useMemo(function () { return actions; }, dependencies);\r\n    React.useEffect(function () {\r\n        if (!actionsCache.length) {\r\n            return;\r\n        }\r\n        var unregister = query.registerActions(actionsCache);\r\n        return function () {\r\n            unregister();\r\n        };\r\n    }, [query, actionsCache]);\r\n}\r\nexports.useRegisterActions = useRegisterActions;\r\n", "\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KBarAnimator = void 0;\r\nvar React = __importStar(require(\"react\"));\r\nvar types_1 = require(\"./types\");\r\nvar useKBar_1 = require(\"./useKBar\");\r\nvar utils_1 = require(\"./utils\");\r\nvar appearanceAnimationKeyframes = [\r\n    {\r\n        opacity: 0,\r\n        transform: \"scale(.99)\",\r\n    },\r\n    { opacity: 1, transform: \"scale(1.01)\" },\r\n    { opacity: 1, transform: \"scale(1)\" },\r\n];\r\nvar bumpAnimationKeyframes = [\r\n    {\r\n        transform: \"scale(1)\",\r\n    },\r\n    {\r\n        transform: \"scale(.98)\",\r\n    },\r\n    {\r\n        transform: \"scale(1)\",\r\n    },\r\n];\r\nvar KBarAnimator = function (_a) {\r\n    var _b, _c;\r\n    var children = _a.children, style = _a.style, className = _a.className, disableCloseOnOuterClick = _a.disableCloseOnOuterClick;\r\n    var _d = (0, useKBar_1.useKBar)(function (state) { return ({\r\n        visualState: state.visualState,\r\n        currentRootActionId: state.currentRootActionId,\r\n    }); }), visualState = _d.visualState, currentRootActionId = _d.currentRootActionId, query = _d.query, options = _d.options;\r\n    var outerRef = React.useRef(null);\r\n    var innerRef = React.useRef(null);\r\n    var enterMs = ((_b = options === null || options === void 0 ? void 0 : options.animations) === null || _b === void 0 ? void 0 : _b.enterMs) || 0;\r\n    var exitMs = ((_c = options === null || options === void 0 ? void 0 : options.animations) === null || _c === void 0 ? void 0 : _c.exitMs) || 0;\r\n    // Show/hide animation\r\n    React.useEffect(function () {\r\n        if (visualState === types_1.VisualState.showing) {\r\n            return;\r\n        }\r\n        var duration = visualState === types_1.VisualState.animatingIn ? enterMs : exitMs;\r\n        var element = outerRef.current;\r\n        element === null || element === void 0 ? void 0 : element.animate(appearanceAnimationKeyframes, {\r\n            duration: duration,\r\n            easing: \r\n            // TODO: expose easing in options\r\n            visualState === types_1.VisualState.animatingOut ? \"ease-in\" : \"ease-out\",\r\n            direction: visualState === types_1.VisualState.animatingOut ? \"reverse\" : \"normal\",\r\n            fill: \"forwards\",\r\n        });\r\n    }, [options, visualState, enterMs, exitMs]);\r\n    // Height animation\r\n    var previousHeight = React.useRef();\r\n    React.useEffect(function () {\r\n        // Only animate if we're actually showing\r\n        if (visualState === types_1.VisualState.showing) {\r\n            var outer_1 = outerRef.current;\r\n            var inner_1 = innerRef.current;\r\n            if (!outer_1 || !inner_1) {\r\n                return;\r\n            }\r\n            var ro_1 = new ResizeObserver(function (entries) {\r\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n                    var entry = entries_1[_i];\r\n                    var cr = entry.contentRect;\r\n                    if (!previousHeight.current) {\r\n                        previousHeight.current = cr.height;\r\n                    }\r\n                    outer_1.animate([\r\n                        {\r\n                            height: previousHeight.current + \"px\",\r\n                        },\r\n                        {\r\n                            height: cr.height + \"px\",\r\n                        },\r\n                    ], {\r\n                        duration: enterMs / 2,\r\n                        // TODO: expose configs here\r\n                        easing: \"ease-out\",\r\n                        fill: \"forwards\",\r\n                    });\r\n                    previousHeight.current = cr.height;\r\n                }\r\n            });\r\n            ro_1.observe(inner_1);\r\n            return function () {\r\n                ro_1.unobserve(inner_1);\r\n            };\r\n        }\r\n    }, [visualState, options, enterMs, exitMs]);\r\n    // Bump animation between nested actions\r\n    var firstRender = React.useRef(true);\r\n    React.useEffect(function () {\r\n        if (firstRender.current) {\r\n            firstRender.current = false;\r\n            return;\r\n        }\r\n        var element = outerRef.current;\r\n        if (element) {\r\n            element.animate(bumpAnimationKeyframes, {\r\n                duration: enterMs,\r\n                easing: \"ease-out\",\r\n            });\r\n        }\r\n    }, [currentRootActionId, enterMs]);\r\n    (0, utils_1.useOuterClick)(outerRef, function () {\r\n        var _a, _b;\r\n        if (disableCloseOnOuterClick) {\r\n            return;\r\n        }\r\n        query.setVisualState(types_1.VisualState.animatingOut);\r\n        (_b = (_a = options.callbacks) === null || _a === void 0 ? void 0 : _a.onClose) === null || _b === void 0 ? void 0 : _b.call(_a);\r\n    });\r\n    return (React.createElement(\"div\", { ref: outerRef, style: __assign(__assign(__assign({}, appearanceAnimationKeyframes[0]), style), { pointerEvents: \"auto\" }), className: className },\r\n        React.createElement(\"div\", { ref: innerRef }, children)));\r\n};\r\nexports.KBarAnimator = KBarAnimator;\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./ActionInterface\"), exports);\r\n__exportStar(require(\"./ActionImpl\"), exports);\r\n", "\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Priority = exports.createAction = void 0;\r\nvar utils_1 = require(\"./utils\");\r\nObject.defineProperty(exports, \"createAction\", { enumerable: true, get: function () { return utils_1.createAction; } });\r\nObject.defineProperty(exports, \"Priority\", { enumerable: true, get: function () { return utils_1.Priority; } });\r\n__exportStar(require(\"./useMatches\"), exports);\r\n__exportStar(require(\"./KBarPortal\"), exports);\r\n__exportStar(require(\"./KBarPositioner\"), exports);\r\n__exportStar(require(\"./KBarSearch\"), exports);\r\n__exportStar(require(\"./KBarResults\"), exports);\r\n__exportStar(require(\"./useKBar\"), exports);\r\n__exportStar(require(\"./useRegisterActions\"), exports);\r\n__exportStar(require(\"./KBarContextProvider\"), exports);\r\n__exportStar(require(\"./KBarAnimator\"), exports);\r\n__exportStar(require(\"./types\"), exports);\r\n__exportStar(require(\"./action\"), exports);\r\n", "import React, { createContext } from \"react\";\nimport { KBarProvider, type KBarProviderProps } from \"kbar\";\n\nimport type { CommandBar } from \"./components/index.js\";\n\ninterface IKBarProviderProps extends KBarProviderProps {\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}\n\nexport const RefineKbarPropsContext = createContext<\n  IKBarProviderProps[\"commandBarProps\"]\n>({});\n\nexport const RefineKbarProvider: React.FunctionComponent<\n  IKBarProviderProps & { children: React.ReactNode }\n> = ({ children, commandBarProps }) => {\n  return (\n    <RefineKbarPropsContext.Provider value={commandBarProps ?? {}}>\n      <KBarProvider>{children}</KBarProvider>\n    </RefineKbarPropsContext.Provider>\n  );\n};\n\nexport type {\n  Action,\n  ActionGroup,\n  ActionId,\n  ActionImpl,\n  ActionInterface,\n  ActionSection,\n  ActionStore,\n  ActionTree,\n  History,\n  HistoryItem,\n  IKBarContext,\n  KBarOptions,\n  KBarProviderProps,\n  KBarQuery,\n  KBarState,\n} from \"kbar\";\n\nexport {\n  KBAR_LISTBOX,\n  KBarAnimator,\n  KBarContext,\n  KBarPortal,\n  KBarPositioner,\n  KBarProvider,\n  KBarResults,\n  KBarSearch,\n  NO_GROUP,\n  Priority,\n  VisualState,\n  createAction,\n  getListboxItemId,\n  useKBar,\n  useMatches,\n  useRegisterActions,\n} from \"kbar\";\n\nexport { useRefineKbar } from \"./hooks/index.js\";\nexport { RefineKbar } from \"./components/index.js\";\n", "import { useEffect, useState, useContext } from \"react\";\nimport {\n  useNavigation,\n  useDelete,\n  useTranslate,\n  useResource,\n  type IResourceItem,\n  useCanWithoutCache,\n  useUserFriendlyName,\n  useRouterType,\n  useGo,\n} from \"@refinedev/core\";\nimport {\n  useRegisterActions,\n  createAction,\n  type Action,\n  KBarContext,\n  VisualState,\n} from \"kbar\";\n\nimport { capitalize } from \"@definitions\";\nimport { useGetToPath } from \"@refinedev/core\";\n\nenum RefineKbarActionType {\n  List = \"list\",\n  Create = \"create\",\n  Show = \"show\",\n  Edit = \"edit\",\n  Delete = \"delete\",\n}\n\nexport const useRefineKbar = (): void => {\n  const t = useTranslate();\n  const {\n    resource: resourceFromParams,\n    resources,\n    id: idFromParams,\n    action: actionFromParams,\n  } = useResource();\n  const routerType = useRouterType();\n  const getToPath = useGetToPath();\n  const go = useGo();\n  const { mutate } = useDelete();\n  const {\n    push,\n    list: goToList,\n    create: goToCreate,\n    show: goToShow,\n    edit: goToEdit,\n  } = useNavigation();\n  const getUserFriendlyName = useUserFriendlyName();\n\n  const kbarContext = useContext(KBarContext);\n\n  const { can } = useCanWithoutCache();\n\n  const [actions, setActions] = useState<Action[]>([]);\n\n  useEffect(() => {\n    const preaparedActions = async () => {\n      return await Promise.all(\n        moveActionToFirst().flatMap((resource) => {\n          return createActionWithResource(resource);\n        }),\n      );\n    };\n\n    preaparedActions().then((actions) => {\n      return setActions(actions.flatMap((action) => action));\n    });\n  }, [resources, idFromParams, resourceFromParams, actionFromParams]);\n\n  useEffect(() => {\n    if (actions.length === 0) {\n      kbarContext.query.setVisualState(VisualState.hidden);\n    }\n  }, [actions]);\n\n  const moveActionToFirst = (): IResourceItem[] => {\n    const orderedResources = [...resources];\n    const fromIndex = orderedResources?.findIndex(\n      (resource) =>\n        (resource.identifier ?? resource?.name) ===\n        (resourceFromParams?.identifier ?? resourceFromParams?.name),\n    );\n\n    if (fromIndex > 0) {\n      const element = orderedResources[fromIndex];\n      orderedResources.splice(fromIndex, 1);\n      orderedResources.splice(0, 0, element);\n    }\n\n    return orderedResources;\n  };\n\n  const createActionWithResource = async (resource: IResourceItem) => {\n    const {\n      name,\n      label: deprecatedLabel,\n      list,\n      create,\n      canCreate,\n      canEdit,\n      canShow,\n      icon: deprecatedIcon,\n      show,\n      canDelete: deprecatedCanDelete,\n      edit,\n      route,\n    } = resource;\n\n    const label =\n      resource?.meta?.label ?? resource?.options?.label ?? deprecatedLabel;\n\n    const icon =\n      resource?.meta?.icon ?? resource?.options?.icon ?? deprecatedIcon;\n\n    const canDelete =\n      resource?.meta?.canDelete ??\n      resource?.options?.canDelete ??\n      deprecatedCanDelete;\n\n    const section =\n      label ??\n      t(\n        `${resource.name}.${resource.name}`,\n        getUserFriendlyName(resource.name, \"plural\"),\n      );\n    const tempActions: Action[] = [];\n\n    if (\n      list &&\n      ((resourceFromParams !== undefined &&\n        resourceFromParams?.name !== name) ||\n        (actionFromParams !== undefined && resourceFromParams?.name === name))\n    ) {\n      const { can: canList } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.List,\n        params: { id: idFromParams, resource },\n      })) || { can: true };\n      if (canList) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.list\", capitalize(RefineKbarActionType.List)),\n            section,\n            icon,\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"list\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n    if (\n      (canCreate || !!create) &&\n      create &&\n      (RefineKbarActionType.Create !== actionFromParams ||\n        resourceFromParams?.name !== name)\n    ) {\n      const { can: canAccessCreate } = (await can?.({\n        resource: name,\n        action: RefineKbarActionType.Create,\n        params: { resource },\n      })) || { can: true };\n\n      if (canAccessCreate) {\n        tempActions.push(\n          createAction({\n            name: t(\"actions.create\", capitalize(RefineKbarActionType.Create)),\n            section,\n            icon,\n            keywords: \"new\",\n            perform: () => {\n              const p = getToPath({\n                resource,\n                action: \"create\",\n                legacy: routerType === \"legacy\",\n              });\n\n              if (p) {\n                if (routerType === \"legacy\") {\n                  push(p);\n                } else {\n                  go({ to: p });\n                }\n              }\n            },\n          }),\n        );\n      }\n    }\n\n    if (resourceFromParams?.name === name && idFromParams) {\n      if (\n        (canShow || !!show) &&\n        show &&\n        RefineKbarActionType.Show !== actionFromParams\n      ) {\n        const { can: canAccessShow } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Show,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n\n        if (canAccessShow) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.show\", capitalize(RefineKbarActionType.Show)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"show\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (\n        (canEdit || !!edit) &&\n        edit &&\n        RefineKbarActionType.Edit !== actionFromParams\n      ) {\n        const { can: canAccessEdit } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Edit,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessEdit) {\n          tempActions.push(\n            createAction({\n              name: t(\"actions.edit\", capitalize(RefineKbarActionType.Edit)),\n              section,\n              icon,\n              perform: () => {\n                const p = getToPath({\n                  resource,\n                  action: \"edit\",\n                  legacy: routerType === \"legacy\",\n                  meta: {\n                    id: idFromParams,\n                  },\n                });\n\n                if (p) {\n                  if (routerType === \"legacy\") {\n                    push(p);\n                  } else {\n                    go({ to: p });\n                  }\n                }\n              },\n            }),\n          );\n        }\n      }\n      if (canDelete) {\n        const { can: canAccessDelete } = (await can?.({\n          resource: name,\n          action: RefineKbarActionType.Delete,\n          params: { id: idFromParams, resource },\n        })) || { can: true };\n        if (canAccessDelete) {\n          tempActions.push(\n            {\n              id: \"delete\",\n              name: t(\n                \"actions.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section,\n              icon,\n            },\n            createAction({\n              name: t(\n                \"buttons.delete\",\n                capitalize(RefineKbarActionType.Delete),\n              ),\n              section: t(\"buttons.confirm\", \"Are you sure?\"),\n              parent: \"delete\",\n              perform: () => {\n                mutate(\n                  {\n                    resource: resource.name,\n                    id: idFromParams,\n                  },\n                  {\n                    onSuccess: () => {\n                      const p = getToPath({\n                        resource,\n                        action: \"list\",\n                        legacy: routerType === \"legacy\",\n                      });\n\n                      if (p) {\n                        if (routerType === \"legacy\") {\n                          push(p);\n                        } else {\n                          go({ to: p });\n                        }\n                      }\n                    },\n                  },\n                );\n              },\n            }),\n            createAction({\n              name: t(\"buttons.cancel\", \"Cancel\"),\n              parent: \"delete\",\n              perform: () => null,\n            }),\n          );\n        }\n      }\n    }\n    return tempActions;\n  };\n  useRegisterActions(actions, [actions]);\n};\n", "// Capitalize first letter of each word\nexport const capitalize = (str: string): string =>\n  str.replace(\n    /\\w\\S*/g,\n    (txt) => txt.charAt(0).toUpperCase() + txt.slice(1).toLowerCase(),\n  );\n", "import React from \"react\";\nimport { KBarPortal, KBarPositioner, KBarAnimator, KBarSearch } from \"kbar\";\n\nimport { RenderResults } from \"@components\";\n\nexport const CommandBar: React.FC = () => {\n  const searchStyle = {\n    padding: \"12px 16px\",\n    fontSize: \"16px\",\n    width: \"100%\",\n    boxSizing: \"border-box\" as React.CSSProperties[\"boxSizing\"],\n    outline: \"none\",\n    border: \"none\",\n    background: \"rgb(252 252 252)\",\n    color: \"black\",\n  };\n\n  const animatorStyle = {\n    maxWidth: \"600px\",\n    width: \"100%\",\n    background: \"white\",\n    color: \"black\",\n    borderRadius: \"8px\",\n    overflow: \"hidden\",\n    boxShadow: \"0px 4px 4px rgba(0, 0, 0, 0.25)\",\n  };\n\n  const positionerStyle = {\n    opacity: 1,\n    transition: \"background 0.35s cubic-bezier(0.4, 0, 0.2, 1) 0s\",\n    backdropFilter: \"saturate(180%) blur(1px)\",\n    background: \"rgba(0, 0, 0, 0.1)\",\n    zIndex: \"9999\",\n  };\n\n  return (\n    <KBarPortal>\n      <KBarPositioner style={positionerStyle}>\n        <KBarAnimator style={animatorStyle}>\n          <KBarSearch style={searchStyle} />\n          <RenderResults />\n        </KBarAnimator>\n      </KBarPositioner>\n    </KBarPortal>\n  );\n};\n", "import React from \"react\";\nimport { type ActionId, KBarResults, useMatches } from \"kbar\";\n\nimport { ResultItem } from \"@components\";\n\nconst groupNameStyle = {\n  padding: \"8px 16px\",\n  fontSize: \"14px\",\n  textTransform: \"uppercase\" as const,\n  fontWeight: \"bold\",\n  opacity: 0.5,\n};\nexport const RenderResults: React.FC = () => {\n  const { results, rootActionId } = useMatches();\n\n  return (\n    <KBarResults\n      items={results}\n      onRender={({ item, active }) => {\n        return typeof item === \"string\" ? (\n          <div style={groupNameStyle}>{item}</div>\n        ) : (\n          <ResultItem\n            action={item}\n            active={active}\n            currentRootActionId={rootActionId as ActionId}\n          />\n        );\n      }}\n    />\n  );\n};\n", "import React from \"react\";\nimport type { ActionImpl, ActionId } from \"kbar\";\n\ninterface IResultITemProps {\n  action: ActionImpl;\n  active: boolean;\n  currentRootActionId: ActionId;\n}\nexport const ResultItem = React.forwardRef<HTMLDivElement, IResultITemProps>(\n  ({ action, active, currentRootActionId }, ref) => {\n    const ancestors = React.useMemo(() => {\n      if (!currentRootActionId) return action.ancestors;\n      const index = action.ancestors.findIndex(\n        (ancestor) => ancestor.id === currentRootActionId,\n      );\n      return action.ancestors.slice(index + 1);\n    }, [action.ancestors, currentRootActionId]);\n\n    return (\n      <div\n        ref={ref}\n        style={{\n          padding: \"12px 16px\",\n          background: active ? \"rgba(0 0 0 / 0.05)\" : \"transparent\",\n          borderLeft: `2px solid ${active ? \"rgb(28 28 29)\" : \"transparent\"}`,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          cursor: \"pointer\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            gap: \"8px\",\n            alignItems: \"center\",\n            fontSize: 14,\n          }}\n        >\n          {action.icon && action.icon}\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div>\n              {ancestors.length > 0 &&\n                ancestors.map((ancestor) => (\n                  <React.Fragment key={ancestor.id}>\n                    <span\n                      style={{\n                        opacity: 0.5,\n                        marginRight: 8,\n                      }}\n                    >\n                      {ancestor.name}\n                    </span>\n                    <span\n                      style={{\n                        marginRight: 8,\n                      }}\n                    >\n                      &rsaquo;\n                    </span>\n                  </React.Fragment>\n                ))}\n              <span\n                style={{\n                  color:\n                    action.name.toLocaleUpperCase() === \"DELETE\"\n                      ? \"red\"\n                      : \"black\",\n                }}\n              >\n                {action.name}\n              </span>\n            </div>\n            {action.subtitle && (\n              <span style={{ fontSize: 12 }}>{action.subtitle}</span>\n            )}\n          </div>\n        </div>\n        {action.shortcut?.length ? (\n          <div\n            aria-hidden\n            style={{\n              display: \"grid\",\n              gridAutoFlow: \"column\",\n              gap: \"4px\",\n            }}\n          >\n            {action.shortcut.map((sc) => (\n              <kbd\n                key={sc}\n                style={{\n                  padding: \"4px 6px\",\n                  background: \"rgba(0 0 0 / .1)\",\n                  borderRadius: \"4px\",\n                  fontSize: 14,\n                }}\n              >\n                {sc}\n              </kbd>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nResultItem.displayName = \"ResultItem\";\n", "import React, { useContext } from \"react\";\n\nimport { RefineKbarPropsContext } from \"./../../index\";\nimport { useRefineKbar } from \"../../hooks\";\nimport { CommandBar } from \"../\";\n\nexport const RefineKbar: React.FC<{\n  commandBarProps?: React.ComponentProps<typeof CommandBar>;\n}> = ({ commandBarProps }) => {\n  const context = useContext(RefineKbarPropsContext);\n  useRefineKbar();\n  const props = { ...context, ...commandBarProps };\n\n  return <CommandBar {...props} />;\n};\n"],
  "mappings": "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",
  "names": ["s", "v", "React", "Command", "ActionImpl", "s", "ActionInterface", "HistoryItemImpl", "HistoryImpl", "VisualState", "s", "v", "React", "props", "state", "Publisher", "Subscriber", "parse", "event", "v", "React", "_a", "_b", "_c", "action", "v", "React", "props", "s", "v", "React", "collected", "obj", "path", "norm", "score", "item", "query", "value", "pattern", "result", "searchers", "v", "React", "search", "actions", "i", "_a", "group", "results", "__export", "__toCommonJS", "React", "__toESM", "__export", "__toCommonJS", "React", "__toESM", "props", "__export", "__toCommonJS", "React", "__toESM", "props", "__export", "useLayoutEffect", "__toCommonJS", "React", "__toESM", "__export", "__toCommonJS", "React", "__toESM", "props", "ReactDOM", "v", "React", "s", "v", "React", "props", "s", "v", "React", "props", "search", "_a", "_b", "observeRect", "node", "cb", "observe", "wasEmpty", "observedNodes", "rect", "hasRectChanged", "callbacks", "run", "unobserve", "state", "index", "cancelAnimationFrame", "useRect", "nodeRef", "initialRect", "width", "height", "React", "useState", "current", "element", "setElement", "useReducer", "rectReducer", "dispatch", "initialRectSet", "useRef", "useIsomorphicLayoutEffect", "getBoundingClientRect", "useEffect", "observer", "action", "useVirtual", "size", "estimateSize", "defaultEstimateSize", "overscan", "paddingStart", "paddingEnd", "parentRef", "horizontal", "scrollToFn", "useObserver", "onScrollElement", "scrollOffsetFn", "keyExtractor", "defaultKeyExtractor", "measureSize", "defaultMeasureSize", "rangeExtractor", "defaultRangeExtractor", "sizeKey", "scrollKey", "latestRef", "scrollOffset", "measurements", "setScrollOffset", "useMeasureParent", "outerSize", "defaultScrollToFn", "useCallback", "offset", "resolvedScrollToFn", "measuredCache", "setMeasuredCache", "measure", "pendingMeasuredCacheIndexesRef", "useMemo", "min", "length", "Math", "slice", "i", "key", "measuredSize", "start", "end", "totalSize", "scrollOffsetFnRef", "onScroll", "event", "addEventListener", "capture", "passive", "removeEventListener", "calculateRange", "indexes", "measureSizeRef", "virtualItems", "_loop", "k", "len", "measurement", "item", "measureRef", "el", "push", "old", "mountedRef", "scrollToOffset", "toOffset", "align", "tryScrollToIndex", "rest", "max", "scrollToIndex", "args", "requestAnimationFrame", "getOffset", "findNearestBinarySearch", "props", "rectChanged", "b", "changedStates", "newRect", "rafId", "window", "useLayoutEffect", "range", "arr", "low", "high", "getCurrentValue", "value", "middle", "currentValue", "s", "v", "React", "props", "search", "_a", "v", "React", "s", "v", "React", "_a", "_b", "exports", "exports", "import_react", "import_kbar", "import_kbar", "import_react", "import_kbar", "capitalize", "__name", "str", "txt", "useRefineKbar", "t", "useTranslate", "resourceFromParams", "resources", "idFromParams", "actionFromParams", "useResource", "routerType", "useRouterType", "getToPath", "useGetToPath", "go", "useGo", "mutate", "useDelete", "push", "goToList", "goToCreate", "goToShow", "goToEdit", "useNavigation", "getUserFriendlyName", "useUserFriendlyName", "kbarContext", "useContext", "KBarContext", "can", "useCanWithoutCache", "actions", "setActions", "useState", "useEffect", "moveActionToFirst", "resource", "createActionWithResource", "action", "VisualState", "orderedResources", "fromIndex", "element", "_a", "_b", "_c", "_d", "_e", "_f", "name", "deprecatedLabel", "list", "create", "canCreate", "canEdit", "canShow", "deprecatedIcon", "show", "deprecatedCanDelete", "edit", "route", "label", "icon", "canDelete", "section", "tempActions", "canList", "createAction", "p", "canAccessCreate", "canAccessShow", "canAccessEdit", "canAccessDelete", "useRegisterActions", "CommandBar", "React", "KBarPortal", "KBarPositioner", "KBarAnimator", "KBarSearch", "RenderResults", "groupNameStyle", "results", "rootActionId", "useMatches", "KBarResults", "item", "active", "ResultItem", "currentRootActionId", "ref", "ancestors", "index", "ancestor", "sc", "RefineKbar", "commandBarProps", "context", "RefineKbarPropsContext", "props", "createContext", "RefineKbarProvider", "children", "KBarProvider"]
}
